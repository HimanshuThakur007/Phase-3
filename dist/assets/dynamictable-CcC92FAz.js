import{q as useSelector,b as useLocation,p as useNavigate,B as useAuthContext,j as jsxRuntimeExports,W as Wrapper,C as CenteredLoader,G as GridTable,S as StockReportTable}from"./index-lKAf_eBp.js";import{R as React,a as reactExports}from"./react-hook-form-Bavd7xdc.js";import{u as useApiHandler}from"./customapiHandler-9LOoEkAu.js";var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(source,excluded){if(null==source)return{};var target=_objectWithoutPropertiesLoose(source,excluded),key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _extends(){_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};return _extends.apply(this,arguments)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r2){return Object.getOwnPropertyDescriptor(e,r2).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r2){_defineProperty(e,r2,t[r2])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r2){Object.defineProperty(e,r2,Object.getOwnPropertyDescriptor(t,r2))})}return e}function _defineProperty(obj,key,value){key=_toPropertyKey(key);key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value;return obj}function _toPropertyKey(t){var i=_toPrimitive(t,"string");return"symbol"==typeof i?i:i+""}function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}function Tree2Element(tree){return tree&&tree.map((node,i)=>React.createElement(node.tag,_objectSpread({key:i},node.attr),Tree2Element(node.child)))}function GenIcon(data){return props=>React.createElement(IconBase,_extends({attr:_objectSpread({},data.attr)},props),Tree2Element(data.child))}function IconBase(props){var elem=conf=>{var{attr:attr,size:size,title:title}=props,svgProps=_objectWithoutProperties(props,_excluded),computedSize=size||conf.size||"1em",className;conf.className&&(className=conf.className);props.className&&(className=(className?className+" ":"")+props.className);return React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},conf.attr,attr,svgProps,{className:className,style:_objectSpread(_objectSpread({color:props.color||conf.color},conf.style),props.style),height:computedSize,width:computedSize,xmlns:"http://www.w3.org/2000/svg"}),title&&React.createElement("title",null,title),props.children)};return void 0!==IconContext?React.createElement(IconContext.Consumer,null,conf=>elem(conf)):elem(DefaultContext)}function FaEye(props){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(props)}function FiMinus(props){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(props)}function FiPlus(props){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(props)}
/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function functionalUpdate(updater,input){return"function"==typeof updater?updater(input):updater}function makeStateUpdater(key,instance){return updater=>{instance.setState(old=>({...old,[key]:functionalUpdate(updater,old[key])}))}}function isFunction(d){return d instanceof Function}function isNumberArray(d){return Array.isArray(d)&&d.every(val=>"number"==typeof val)}function flattenBy(arr,getChildren){const flat=[],recurse=subArr=>{subArr.forEach(item=>{flat.push(item);const children=getChildren(item);null!=children&&children.length&&recurse(children)})};recurse(arr);return flat}function memo(getDeps,fn,opts){let deps=[],result;return depArgs=>{let depTime;opts.key&&opts.debug&&(depTime=Date.now());const newDeps=getDeps(depArgs),depsChanged=newDeps.length!==deps.length||newDeps.some((dep,index)=>deps[index]!==dep);if(!depsChanged)return result;deps=newDeps;let resultTime;opts.key&&opts.debug&&(resultTime=Date.now());result=fn(...newDeps);null==opts||null==opts.onChange||opts.onChange(result);if(opts.key&&opts.debug&&null!=opts&&opts.debug()){const depEndTime=Math.round(100*(Date.now()-depTime))/100,resultEndTime=Math.round(100*(Date.now()-resultTime))/100,resultFpsPercentage=resultEndTime/16,pad=(str,num)=>{str=String(str);for(;str.length<num;)str=" "+str;return str};console.info(`%câ± ${pad(resultEndTime,5)} /${pad(depEndTime,5)} ms`,`\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0,Math.min(120-120*resultFpsPercentage,120))}deg 100% 31%);`,null==opts?void 0:opts.key)}return result}}function getMemoOptions(tableOptions,debugLevel,key,onChange){return{debug:()=>{var _tableOptions$debugAl;return null!=(_tableOptions$debugAl=null==tableOptions?void 0:tableOptions.debugAll)?_tableOptions$debugAl:tableOptions[debugLevel]},key:!1,onChange:onChange}}function createCell(table,row,column,columnId){const getRenderValue=()=>{var _cell$getValue;return null!=(_cell$getValue=cell.getValue())?_cell$getValue:table.options.renderFallbackValue},cell={id:`${row.id}_${column.id}`,row:row,column:column,getValue:()=>row.getValue(columnId),renderValue:getRenderValue,getContext:memo(()=>[table,column,row,cell],(table2,column2,row2,cell2)=>({table:table2,column:column2,row:row2,cell:cell2,getValue:cell2.getValue,renderValue:cell2.renderValue}),getMemoOptions(table.options,"debugCells"))};table._features.forEach(feature=>{null==feature.createCell||feature.createCell(cell,column,row,table)},{});return cell}function createColumn(table,columnDef,depth,parent){var _ref,_resolvedColumnDef$id;const defaultColumn=table._getDefaultColumnDef(),resolvedColumnDef={...defaultColumn,...columnDef},accessorKey=resolvedColumnDef.accessorKey;let id=null!=(_ref=null!=(_resolvedColumnDef$id=resolvedColumnDef.id)?_resolvedColumnDef$id:accessorKey?"function"==typeof String.prototype.replaceAll?accessorKey.replaceAll(".","_"):accessorKey.replace(/\./g,"_"):void 0)?_ref:"string"==typeof resolvedColumnDef.header?resolvedColumnDef.header:void 0,accessorFn;resolvedColumnDef.accessorFn?accessorFn=resolvedColumnDef.accessorFn:accessorKey&&(accessorFn=accessorKey.includes(".")?originalRow=>{let result=originalRow;for(const key of accessorKey.split(".")){var _result;result=null==(_result=result)?void 0:_result[key]}return result}:originalRow=>originalRow[resolvedColumnDef.accessorKey]);if(!id)throw new Error;let column={id:`${String(id)}`,accessorFn:accessorFn,parent:parent,depth:depth,columnDef:resolvedColumnDef,columns:[],getFlatColumns:memo(()=>[!0],()=>{var _column$columns;return[column,...null==(_column$columns=column.columns)?void 0:_column$columns.flatMap(d=>d.getFlatColumns())]},getMemoOptions(table.options,"debugColumns")),getLeafColumns:memo(()=>[table._getOrderColumnsFn()],orderColumns2=>{var _column$columns2;if(null!=(_column$columns2=column.columns)&&_column$columns2.length){let leafColumns=column.columns.flatMap(column2=>column2.getLeafColumns());return orderColumns2(leafColumns)}return[column]},getMemoOptions(table.options,"debugColumns"))};for(const feature of table._features)null==feature.createColumn||feature.createColumn(column,table);return column}const debug="debugHeaders";function createHeader(table,column,options){var _options$id;const id=null!=(_options$id=options.id)?_options$id:column.id;let header={id:id,column:column,index:options.index,isPlaceholder:!!options.isPlaceholder,placeholderId:options.placeholderId,depth:options.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const leafHeaders=[],recurseHeader=h=>{h.subHeaders&&h.subHeaders.length&&h.subHeaders.map(recurseHeader);leafHeaders.push(h)};recurseHeader(header);return leafHeaders},getContext:()=>({table:table,header:header,column:column})};table._features.forEach(feature=>{null==feature.createHeader||feature.createHeader(header,table)});return header}const Headers={createTable:table=>{table.getHeaderGroups=memo(()=>[table.getAllColumns(),table.getVisibleLeafColumns(),table.getState().columnPinning.left,table.getState().columnPinning.right],(allColumns,leafColumns,left,right)=>{var _left$map$filter,_right$map$filter;const leftColumns=null!=(_left$map$filter=null==left?void 0:left.map(columnId=>leafColumns.find(d=>d.id===columnId)).filter(Boolean))?_left$map$filter:[],rightColumns=null!=(_right$map$filter=null==right?void 0:right.map(columnId=>leafColumns.find(d=>d.id===columnId)).filter(Boolean))?_right$map$filter:[],centerColumns=leafColumns.filter(column=>!(null!=left&&left.includes(column.id)||null!=right&&right.includes(column.id))),headerGroups=buildHeaderGroups(allColumns,[...leftColumns,...centerColumns,...rightColumns],table);return headerGroups},getMemoOptions(table.options,debug));table.getCenterHeaderGroups=memo(()=>[table.getAllColumns(),table.getVisibleLeafColumns(),table.getState().columnPinning.left,table.getState().columnPinning.right],(allColumns,leafColumns,left,right)=>{leafColumns=leafColumns.filter(column=>!(null!=left&&left.includes(column.id)||null!=right&&right.includes(column.id)));return buildHeaderGroups(allColumns,leafColumns,table,"center")},getMemoOptions(table.options,debug));table.getLeftHeaderGroups=memo(()=>[table.getAllColumns(),table.getVisibleLeafColumns(),table.getState().columnPinning.left],(allColumns,leafColumns,left)=>{var _left$map$filter2;const orderedLeafColumns=null!=(_left$map$filter2=null==left?void 0:left.map(columnId=>leafColumns.find(d=>d.id===columnId)).filter(Boolean))?_left$map$filter2:[];return buildHeaderGroups(allColumns,orderedLeafColumns,table,"left")},getMemoOptions(table.options,debug));table.getRightHeaderGroups=memo(()=>[table.getAllColumns(),table.getVisibleLeafColumns(),table.getState().columnPinning.right],(allColumns,leafColumns,right)=>{var _right$map$filter2;const orderedLeafColumns=null!=(_right$map$filter2=null==right?void 0:right.map(columnId=>leafColumns.find(d=>d.id===columnId)).filter(Boolean))?_right$map$filter2:[];return buildHeaderGroups(allColumns,orderedLeafColumns,table,"right")},getMemoOptions(table.options,debug));table.getFooterGroups=memo(()=>[table.getHeaderGroups()],headerGroups=>[...headerGroups].reverse(),getMemoOptions(table.options,debug));table.getLeftFooterGroups=memo(()=>[table.getLeftHeaderGroups()],headerGroups=>[...headerGroups].reverse(),getMemoOptions(table.options,debug));table.getCenterFooterGroups=memo(()=>[table.getCenterHeaderGroups()],headerGroups=>[...headerGroups].reverse(),getMemoOptions(table.options,debug));table.getRightFooterGroups=memo(()=>[table.getRightHeaderGroups()],headerGroups=>[...headerGroups].reverse(),getMemoOptions(table.options,debug));table.getFlatHeaders=memo(()=>[table.getHeaderGroups()],headerGroups=>headerGroups.map(headerGroup=>headerGroup.headers).flat(),getMemoOptions(table.options,debug));table.getLeftFlatHeaders=memo(()=>[table.getLeftHeaderGroups()],left=>left.map(headerGroup=>headerGroup.headers).flat(),getMemoOptions(table.options,debug));table.getCenterFlatHeaders=memo(()=>[table.getCenterHeaderGroups()],left=>left.map(headerGroup=>headerGroup.headers).flat(),getMemoOptions(table.options,debug));table.getRightFlatHeaders=memo(()=>[table.getRightHeaderGroups()],left=>left.map(headerGroup=>headerGroup.headers).flat(),getMemoOptions(table.options,debug));table.getCenterLeafHeaders=memo(()=>[table.getCenterFlatHeaders()],flatHeaders=>flatHeaders.filter(header=>{var _header$subHeaders;return!(null!=(_header$subHeaders=header.subHeaders)&&_header$subHeaders.length)}),getMemoOptions(table.options,debug));table.getLeftLeafHeaders=memo(()=>[table.getLeftFlatHeaders()],flatHeaders=>flatHeaders.filter(header=>{var _header$subHeaders2;return!(null!=(_header$subHeaders2=header.subHeaders)&&_header$subHeaders2.length)}),getMemoOptions(table.options,debug));table.getRightLeafHeaders=memo(()=>[table.getRightFlatHeaders()],flatHeaders=>flatHeaders.filter(header=>{var _header$subHeaders3;return!(null!=(_header$subHeaders3=header.subHeaders)&&_header$subHeaders3.length)}),getMemoOptions(table.options,debug));table.getLeafHeaders=memo(()=>[table.getLeftHeaderGroups(),table.getCenterHeaderGroups(),table.getRightHeaderGroups()],(left,center,right)=>{var _left$0$headers,_left$,_center$0$headers,_center$,_right$0$headers,_right$;return[...null!=(_left$0$headers=null==(_left$=left[0])?void 0:_left$.headers)?_left$0$headers:[],...null!=(_center$0$headers=null==(_center$=center[0])?void 0:_center$.headers)?_center$0$headers:[],...null!=(_right$0$headers=null==(_right$=right[0])?void 0:_right$.headers)?_right$0$headers:[]].map(header=>header.getLeafHeaders()).flat()},getMemoOptions(table.options,debug))}};function buildHeaderGroups(allColumns,columnsToGroup,table,headerFamily){var _headerGroups$0$heade,_headerGroups$;let maxDepth=0;const findMaxDepth=function(columns,depth){void 0===depth&&(depth=1);maxDepth=Math.max(maxDepth,depth);columns.filter(column=>column.getIsVisible()).forEach(column=>{var _column$columns;null!=(_column$columns=column.columns)&&_column$columns.length&&findMaxDepth(column.columns,depth+1)},0)};findMaxDepth(allColumns);let headerGroups=[];const createHeaderGroup=(headersToGroup,depth)=>{const headerGroup={depth:depth,id:[headerFamily,`${depth}`].filter(Boolean).join("_"),headers:[]},pendingParentHeaders=[];headersToGroup.forEach(headerToGroup=>{const latestPendingParentHeader=[...pendingParentHeaders].reverse()[0],isLeafHeader=headerToGroup.column.depth===headerGroup.depth;let column,isPlaceholder=!1;if(isLeafHeader&&headerToGroup.column.parent)column=headerToGroup.column.parent;else{column=headerToGroup.column;isPlaceholder=!0}if(latestPendingParentHeader&&(null==latestPendingParentHeader?void 0:latestPendingParentHeader.column)===column)latestPendingParentHeader.subHeaders.push(headerToGroup);else{const header=createHeader(table,column,{id:[headerFamily,depth,column.id,null==headerToGroup?void 0:headerToGroup.id].filter(Boolean).join("_"),isPlaceholder:isPlaceholder,placeholderId:isPlaceholder?`${pendingParentHeaders.filter(d=>d.column===column).length}`:void 0,depth:depth,index:pendingParentHeaders.length});header.subHeaders.push(headerToGroup);pendingParentHeaders.push(header)}headerGroup.headers.push(headerToGroup);headerToGroup.headerGroup=headerGroup});headerGroups.push(headerGroup);depth>0&&createHeaderGroup(pendingParentHeaders,depth-1)},bottomHeaders=columnsToGroup.map((column,index)=>createHeader(table,column,{depth:maxDepth,index:index}));createHeaderGroup(bottomHeaders,maxDepth-1);headerGroups.reverse();const recurseHeadersForSpans=headers=>{const filteredHeaders=headers.filter(header=>header.column.getIsVisible());return filteredHeaders.map(header=>{let colSpan=0,rowSpan=0,childRowSpans=[0];if(header.subHeaders&&header.subHeaders.length){childRowSpans=[];recurseHeadersForSpans(header.subHeaders).forEach(_ref=>{let{colSpan:childColSpan,rowSpan:childRowSpan}=_ref;colSpan+=childColSpan;childRowSpans.push(childRowSpan)})}else colSpan=1;const minChildRowSpan=Math.min(...childRowSpans);rowSpan+=minChildRowSpan;header.colSpan=colSpan;header.rowSpan=rowSpan;return{colSpan:colSpan,rowSpan:rowSpan}})};recurseHeadersForSpans(null!=(_headerGroups$0$heade=null==(_headerGroups$=headerGroups[0])?void 0:_headerGroups$.headers)?_headerGroups$0$heade:[]);return headerGroups}const createRow=(table,id,original,rowIndex,depth,subRows,parentId)=>{let row={id:id,index:rowIndex,original:original,depth:depth,parentId:parentId,_valuesCache:{},_uniqueValuesCache:{},getValue:columnId=>{if(row._valuesCache.hasOwnProperty(columnId))return row._valuesCache[columnId];const column=table.getColumn(columnId);if(null!=column&&column.accessorFn){row._valuesCache[columnId]=column.accessorFn(row.original,rowIndex);return row._valuesCache[columnId]}},getUniqueValues:columnId=>{if(row._uniqueValuesCache.hasOwnProperty(columnId))return row._uniqueValuesCache[columnId];const column=table.getColumn(columnId);if(null!=column&&column.accessorFn){if(!column.columnDef.getUniqueValues){row._uniqueValuesCache[columnId]=[row.getValue(columnId)];return row._uniqueValuesCache[columnId]}row._uniqueValuesCache[columnId]=column.columnDef.getUniqueValues(row.original,rowIndex);return row._uniqueValuesCache[columnId]}},renderValue:columnId=>{var _row$getValue;return null!=(_row$getValue=row.getValue(columnId))?_row$getValue:table.options.renderFallbackValue},subRows:[],getLeafRows:()=>flattenBy(row.subRows,d=>d.subRows),getParentRow:()=>row.parentId?table.getRow(row.parentId,!0):void 0,getParentRows:()=>{let parentRows=[],currentRow=row;for(;;){const parentRow=currentRow.getParentRow();if(!parentRow)break;parentRows.push(parentRow);currentRow=parentRow}return parentRows.reverse()},getAllCells:memo(()=>[table.getAllLeafColumns()],leafColumns=>leafColumns.map(column=>createCell(table,row,column,column.id)),getMemoOptions(table.options,"debugRows")),_getAllCellsByColumnId:memo(()=>[row.getAllCells()],allCells=>allCells.reduce((acc,cell)=>{acc[cell.column.id]=cell;return acc},{}),getMemoOptions(table.options,"debugRows"))};for(let i=0;i<table._features.length;i++){const feature=table._features[i];null==feature||null==feature.createRow||feature.createRow(row,table)}return row},ColumnFaceting={createColumn:(column,table)=>{column._getFacetedRowModel=table.options.getFacetedRowModel&&table.options.getFacetedRowModel(table,column.id);column.getFacetedRowModel=()=>column._getFacetedRowModel?column._getFacetedRowModel():table.getPreFilteredRowModel();column._getFacetedUniqueValues=table.options.getFacetedUniqueValues&&table.options.getFacetedUniqueValues(table,column.id);column.getFacetedUniqueValues=()=>column._getFacetedUniqueValues?column._getFacetedUniqueValues():new Map;column._getFacetedMinMaxValues=table.options.getFacetedMinMaxValues&&table.options.getFacetedMinMaxValues(table,column.id);column.getFacetedMinMaxValues=()=>{if(column._getFacetedMinMaxValues)return column._getFacetedMinMaxValues()}}},includesString=(row,columnId,filterValue)=>{var _filterValue$toString,_row$getValue;const search=null==filterValue||null==(_filterValue$toString=filterValue.toString())?void 0:_filterValue$toString.toLowerCase();return Boolean(null==(_row$getValue=row.getValue(columnId))||null==(_row$getValue=_row$getValue.toString())||null==(_row$getValue=_row$getValue.toLowerCase())?void 0:_row$getValue.includes(search))};includesString.autoRemove=val=>testFalsey(val);const includesStringSensitive=(row,columnId,filterValue)=>{var _row$getValue2;return Boolean(null==(_row$getValue2=row.getValue(columnId))||null==(_row$getValue2=_row$getValue2.toString())?void 0:_row$getValue2.includes(filterValue))};includesStringSensitive.autoRemove=val=>testFalsey(val);const equalsString=(row,columnId,filterValue)=>{var _row$getValue3;return(null==(_row$getValue3=row.getValue(columnId))||null==(_row$getValue3=_row$getValue3.toString())?void 0:_row$getValue3.toLowerCase())===(null==filterValue?void 0:filterValue.toLowerCase())};equalsString.autoRemove=val=>testFalsey(val);const arrIncludes=(row,columnId,filterValue)=>{var _row$getValue4;return null==(_row$getValue4=row.getValue(columnId))?void 0:_row$getValue4.includes(filterValue)};arrIncludes.autoRemove=val=>testFalsey(val);const arrIncludesAll=(row,columnId,filterValue)=>!filterValue.some(val=>{var _row$getValue5;return!(null!=(_row$getValue5=row.getValue(columnId))&&_row$getValue5.includes(val))});arrIncludesAll.autoRemove=val=>testFalsey(val)||!(null!=val&&val.length);const arrIncludesSome=(row,columnId,filterValue)=>filterValue.some(val=>{var _row$getValue6;return null==(_row$getValue6=row.getValue(columnId))?void 0:_row$getValue6.includes(val)});arrIncludesSome.autoRemove=val=>testFalsey(val)||!(null!=val&&val.length);const equals=(row,columnId,filterValue)=>row.getValue(columnId)===filterValue;equals.autoRemove=val=>testFalsey(val);const weakEquals=(row,columnId,filterValue)=>row.getValue(columnId)==filterValue;weakEquals.autoRemove=val=>testFalsey(val);const inNumberRange=(row,columnId,filterValue)=>{let[min2,max2]=filterValue;const rowValue=row.getValue(columnId);return rowValue>=min2&&rowValue<=max2};inNumberRange.resolveFilterValue=val=>{let[unsafeMin,unsafeMax]=val,parsedMin="number"!=typeof unsafeMin?parseFloat(unsafeMin):unsafeMin,parsedMax="number"!=typeof unsafeMax?parseFloat(unsafeMax):unsafeMax,min2=null===unsafeMin||Number.isNaN(parsedMin)?-Infinity:parsedMin,max2=null===unsafeMax||Number.isNaN(parsedMax)?Infinity:parsedMax;if(min2>max2){const temp=min2;min2=max2;max2=temp}return[min2,max2]};inNumberRange.autoRemove=val=>testFalsey(val)||testFalsey(val[0])&&testFalsey(val[1]);const filterFns={includesString:includesString,includesStringSensitive:includesStringSensitive,equalsString:equalsString,arrIncludes:arrIncludes,arrIncludesAll:arrIncludesAll,arrIncludesSome:arrIncludesSome,equals:equals,weakEquals:weakEquals,inNumberRange:inNumberRange};function testFalsey(val){return null==val||""===val}const ColumnFiltering={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:state=>({columnFilters:[],...state}),getDefaultOptions:table=>({onColumnFiltersChange:makeStateUpdater("columnFilters",table),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(column,table)=>{column.getAutoFilterFn=()=>{const firstRow=table.getCoreRowModel().flatRows[0],value=null==firstRow?void 0:firstRow.getValue(column.id);return"string"==typeof value?filterFns.includesString:"number"==typeof value?filterFns.inNumberRange:"boolean"==typeof value||null!==value&&"object"==typeof value?filterFns.equals:Array.isArray(value)?filterFns.arrIncludes:filterFns.weakEquals};column.getFilterFn=()=>{var _table$options$filter,_table$options$filter2;return isFunction(column.columnDef.filterFn)?column.columnDef.filterFn:"auto"===column.columnDef.filterFn?column.getAutoFilterFn():null!=(_table$options$filter=null==(_table$options$filter2=table.options.filterFns)?void 0:_table$options$filter2[column.columnDef.filterFn])?_table$options$filter:filterFns[column.columnDef.filterFn]};column.getCanFilter=()=>{var _column$columnDef$ena,_table$options$enable,_table$options$enable2;return(null==(_column$columnDef$ena=column.columnDef.enableColumnFilter)||_column$columnDef$ena)&&(null==(_table$options$enable=table.options.enableColumnFilters)||_table$options$enable)&&(null==(_table$options$enable2=table.options.enableFilters)||_table$options$enable2)&&!!column.accessorFn};column.getIsFiltered=()=>column.getFilterIndex()>-1;column.getFilterValue=()=>{var _table$getState$colum;return null==(_table$getState$colum=table.getState().columnFilters)||null==(_table$getState$colum=_table$getState$colum.find(d=>d.id===column.id))?void 0:_table$getState$colum.value};column.getFilterIndex=()=>{var _table$getState$colum2,_table$getState$colum3;return null!=(_table$getState$colum2=null==(_table$getState$colum3=table.getState().columnFilters)?void 0:_table$getState$colum3.findIndex(d=>d.id===column.id))?_table$getState$colum2:-1};column.setFilterValue=value=>{table.setColumnFilters(old=>{const filterFn=column.getFilterFn(),previousFilter=null==old?void 0:old.find(d=>d.id===column.id),newFilter=functionalUpdate(value,previousFilter?previousFilter.value:void 0);if(shouldAutoRemoveFilter(filterFn,newFilter,column)){var _old$filter;return null!=(_old$filter=null==old?void 0:old.filter(d=>d.id!==column.id))?_old$filter:[]}const newFilterObj={id:column.id,value:newFilter};if(previousFilter){var _old$map;return null!=(_old$map=null==old?void 0:old.map(d=>d.id===column.id?newFilterObj:d))?_old$map:[]}return null!=old&&old.length?[...old,newFilterObj]:[newFilterObj]})}},createRow:(row,_table)=>{row.columnFilters={};row.columnFiltersMeta={}},createTable:table=>{table.setColumnFilters=updater=>{const leafColumns=table.getAllLeafColumns(),updateFn=old=>{var _functionalUpdate;return null==(_functionalUpdate=functionalUpdate(updater,old))?void 0:_functionalUpdate.filter(filter=>{const column=leafColumns.find(d=>d.id===filter.id);if(column){const filterFn=column.getFilterFn();if(shouldAutoRemoveFilter(filterFn,filter.value,column))return!1}return!0})};null==table.options.onColumnFiltersChange||table.options.onColumnFiltersChange(updateFn)};table.resetColumnFilters=defaultState=>{var _table$initialState$c,_table$initialState;table.setColumnFilters(defaultState?[]:null!=(_table$initialState$c=null==(_table$initialState=table.initialState)?void 0:_table$initialState.columnFilters)?_table$initialState$c:[])};table.getPreFilteredRowModel=()=>table.getCoreRowModel();table.getFilteredRowModel=()=>{!table._getFilteredRowModel&&table.options.getFilteredRowModel&&(table._getFilteredRowModel=table.options.getFilteredRowModel(table));return table.options.manualFiltering||!table._getFilteredRowModel?table.getPreFilteredRowModel():table._getFilteredRowModel()}}};function shouldAutoRemoveFilter(filterFn,value,column){return!(!filterFn||!filterFn.autoRemove)&&filterFn.autoRemove(value,column)||void 0===value||"string"==typeof value&&!value}const sum=(columnId,_leafRows,childRows)=>childRows.reduce((sum2,next)=>{const nextValue=next.getValue(columnId);return sum2+("number"==typeof nextValue?nextValue:0)},0),min=(columnId,_leafRows,childRows)=>{let min2;childRows.forEach(row=>{const value=row.getValue(columnId);null!=value&&(min2>value||void 0===min2&&value>=value)&&(min2=value)});return min2},max=(columnId,_leafRows,childRows)=>{let max2;childRows.forEach(row=>{const value=row.getValue(columnId);null!=value&&(max2<value||void 0===max2&&value>=value)&&(max2=value)});return max2},extent=(columnId,_leafRows,childRows)=>{let min2,max2;childRows.forEach(row=>{const value=row.getValue(columnId);if(null!=value)if(void 0===min2)value>=value&&(min2=max2=value);else{min2>value&&(min2=value);max2<value&&(max2=value)}});return[min2,max2]},mean=(columnId,leafRows)=>{let count2=0,sum2=0;leafRows.forEach(row=>{let value=row.getValue(columnId);null!=value&&(value=+value)>=value&&(++count2,sum2+=value)});if(count2)return sum2/count2},median=(columnId,leafRows)=>{if(!leafRows.length)return;const values=leafRows.map(row=>row.getValue(columnId));if(!isNumberArray(values))return;if(1===values.length)return values[0];const mid=Math.floor(values.length/2),nums=values.sort((a,b)=>a-b);return values.length%2!=0?nums[mid]:(nums[mid-1]+nums[mid])/2},unique=(columnId,leafRows)=>Array.from(new Set(leafRows.map(d=>d.getValue(columnId))).values()),uniqueCount=(columnId,leafRows)=>new Set(leafRows.map(d=>d.getValue(columnId))).size,count=(_columnId,leafRows)=>leafRows.length,aggregationFns={sum:sum,min:min,max:max,extent:extent,mean:mean,median:median,unique:unique,uniqueCount:uniqueCount,count:count},ColumnGrouping={getDefaultColumnDef:()=>({aggregatedCell:props=>{var _toString,_props$getValue;return null!=(_toString=null==(_props$getValue=props.getValue())||null==_props$getValue.toString?void 0:_props$getValue.toString())?_toString:null},aggregationFn:"auto"}),getInitialState:state=>({grouping:[],...state}),getDefaultOptions:table=>({onGroupingChange:makeStateUpdater("grouping",table),groupedColumnMode:"reorder"}),createColumn:(column,table)=>{column.toggleGrouping=()=>{table.setGrouping(old=>null!=old&&old.includes(column.id)?old.filter(d=>d!==column.id):[...null!=old?old:[],column.id])};column.getCanGroup=()=>{var _column$columnDef$ena,_table$options$enable;return(null==(_column$columnDef$ena=column.columnDef.enableGrouping)||_column$columnDef$ena)&&(null==(_table$options$enable=table.options.enableGrouping)||_table$options$enable)&&(!!column.accessorFn||!!column.columnDef.getGroupingValue)};column.getIsGrouped=()=>{var _table$getState$group;return null==(_table$getState$group=table.getState().grouping)?void 0:_table$getState$group.includes(column.id)};column.getGroupedIndex=()=>{var _table$getState$group2;return null==(_table$getState$group2=table.getState().grouping)?void 0:_table$getState$group2.indexOf(column.id)};column.getToggleGroupingHandler=()=>{const canGroup=column.getCanGroup();return()=>{canGroup&&column.toggleGrouping()}};column.getAutoAggregationFn=()=>{const firstRow=table.getCoreRowModel().flatRows[0],value=null==firstRow?void 0:firstRow.getValue(column.id);return"number"==typeof value?aggregationFns.sum:"[object Date]"===Object.prototype.toString.call(value)?aggregationFns.extent:void 0};column.getAggregationFn=()=>{var _table$options$aggreg,_table$options$aggreg2;if(!column)throw new Error;return isFunction(column.columnDef.aggregationFn)?column.columnDef.aggregationFn:"auto"===column.columnDef.aggregationFn?column.getAutoAggregationFn():null!=(_table$options$aggreg=null==(_table$options$aggreg2=table.options.aggregationFns)?void 0:_table$options$aggreg2[column.columnDef.aggregationFn])?_table$options$aggreg:aggregationFns[column.columnDef.aggregationFn]}},createTable:table=>{table.setGrouping=updater=>null==table.options.onGroupingChange?void 0:table.options.onGroupingChange(updater);table.resetGrouping=defaultState=>{var _table$initialState$g,_table$initialState;table.setGrouping(defaultState?[]:null!=(_table$initialState$g=null==(_table$initialState=table.initialState)?void 0:_table$initialState.grouping)?_table$initialState$g:[])};table.getPreGroupedRowModel=()=>table.getFilteredRowModel();table.getGroupedRowModel=()=>{!table._getGroupedRowModel&&table.options.getGroupedRowModel&&(table._getGroupedRowModel=table.options.getGroupedRowModel(table));return table.options.manualGrouping||!table._getGroupedRowModel?table.getPreGroupedRowModel():table._getGroupedRowModel()}},createRow:(row,table)=>{row.getIsGrouped=()=>!!row.groupingColumnId;row.getGroupingValue=columnId=>{if(row._groupingValuesCache.hasOwnProperty(columnId))return row._groupingValuesCache[columnId];const column=table.getColumn(columnId);if(null==column||!column.columnDef.getGroupingValue)return row.getValue(columnId);row._groupingValuesCache[columnId]=column.columnDef.getGroupingValue(row.original);return row._groupingValuesCache[columnId]};row._groupingValuesCache={}},createCell:(cell,column,row,table)=>{cell.getIsGrouped=()=>column.getIsGrouped()&&column.id===row.groupingColumnId;cell.getIsPlaceholder=()=>!cell.getIsGrouped()&&column.getIsGrouped();cell.getIsAggregated=()=>{var _row$subRows;return!cell.getIsGrouped()&&!cell.getIsPlaceholder()&&!(null==(_row$subRows=row.subRows)||!_row$subRows.length)}}};function orderColumns(leafColumns,grouping,groupedColumnMode){if(null==grouping||!grouping.length||!groupedColumnMode)return leafColumns;const nonGroupingColumns=leafColumns.filter(col=>!grouping.includes(col.id));if("remove"===groupedColumnMode)return nonGroupingColumns;const groupingColumns=grouping.map(g=>leafColumns.find(col=>col.id===g)).filter(Boolean);return[...groupingColumns,...nonGroupingColumns]}const ColumnOrdering={getInitialState:state=>({columnOrder:[],...state}),getDefaultOptions:table=>({onColumnOrderChange:makeStateUpdater("columnOrder",table)}),createColumn:(column,table)=>{column.getIndex=memo(position=>[_getVisibleLeafColumns(table,position)],columns=>columns.findIndex(d=>d.id===column.id),getMemoOptions(table.options,"debugColumns"));column.getIsFirstColumn=position=>{var _columns$;const columns=_getVisibleLeafColumns(table,position);return(null==(_columns$=columns[0])?void 0:_columns$.id)===column.id};column.getIsLastColumn=position=>{var _columns;const columns=_getVisibleLeafColumns(table,position);return(null==(_columns=columns[columns.length-1])?void 0:_columns.id)===column.id}},createTable:table=>{table.setColumnOrder=updater=>null==table.options.onColumnOrderChange?void 0:table.options.onColumnOrderChange(updater);table.resetColumnOrder=defaultState=>{var _table$initialState$c;table.setColumnOrder(defaultState?[]:null!=(_table$initialState$c=table.initialState.columnOrder)?_table$initialState$c:[])};table._getOrderColumnsFn=memo(()=>[table.getState().columnOrder,table.getState().grouping,table.options.groupedColumnMode],(columnOrder,grouping,groupedColumnMode)=>columns=>{let orderedColumns=[];if(null!=columnOrder&&columnOrder.length){const columnOrderCopy=[...columnOrder],columnsCopy=[...columns];for(;columnsCopy.length&&columnOrderCopy.length;){const targetColumnId=columnOrderCopy.shift(),foundIndex=columnsCopy.findIndex(d=>d.id===targetColumnId);foundIndex>-1&&orderedColumns.push(columnsCopy.splice(foundIndex,1)[0])}orderedColumns=[...orderedColumns,...columnsCopy]}else orderedColumns=columns;return orderColumns(orderedColumns,grouping,groupedColumnMode)},getMemoOptions(table.options,"debugTable"))}},getDefaultColumnPinningState=()=>({left:[],right:[]}),ColumnPinning={getInitialState:state=>({columnPinning:getDefaultColumnPinningState(),...state}),getDefaultOptions:table=>({onColumnPinningChange:makeStateUpdater("columnPinning",table)}),createColumn:(column,table)=>{column.pin=position=>{const columnIds=column.getLeafColumns().map(d=>d.id).filter(Boolean);table.setColumnPinning(old=>{var _old$left3,_old$right3;if("right"===position){var _old$left,_old$right;return{left:(null!=(_old$left=null==old?void 0:old.left)?_old$left:[]).filter(d=>!(null!=columnIds&&columnIds.includes(d))),right:[...(null!=(_old$right=null==old?void 0:old.right)?_old$right:[]).filter(d=>!(null!=columnIds&&columnIds.includes(d))),...columnIds]}}if("left"===position){var _old$left2,_old$right2;return{left:[...(null!=(_old$left2=null==old?void 0:old.left)?_old$left2:[]).filter(d=>!(null!=columnIds&&columnIds.includes(d))),...columnIds],right:(null!=(_old$right2=null==old?void 0:old.right)?_old$right2:[]).filter(d=>!(null!=columnIds&&columnIds.includes(d)))}}return{left:(null!=(_old$left3=null==old?void 0:old.left)?_old$left3:[]).filter(d=>!(null!=columnIds&&columnIds.includes(d))),right:(null!=(_old$right3=null==old?void 0:old.right)?_old$right3:[]).filter(d=>!(null!=columnIds&&columnIds.includes(d)))}})};column.getCanPin=()=>{const leafColumns=column.getLeafColumns();return leafColumns.some(d=>{var _d$columnDef$enablePi,_ref,_table$options$enable;return(null==(_d$columnDef$enablePi=d.columnDef.enablePinning)||_d$columnDef$enablePi)&&(null==(_ref=null!=(_table$options$enable=table.options.enableColumnPinning)?_table$options$enable:table.options.enablePinning)||_ref)})};column.getIsPinned=()=>{const leafColumnIds=column.getLeafColumns().map(d=>d.id),{left:left,right:right}=table.getState().columnPinning,isLeft=leafColumnIds.some(d=>null==left?void 0:left.includes(d)),isRight=leafColumnIds.some(d=>null==right?void 0:right.includes(d));return isLeft?"left":!!isRight&&"right"};column.getPinnedIndex=()=>{var _table$getState$colum,_table$getState$colum2;const position=column.getIsPinned();return position?null!=(_table$getState$colum=null==(_table$getState$colum2=table.getState().columnPinning)||null==(_table$getState$colum2=_table$getState$colum2[position])?void 0:_table$getState$colum2.indexOf(column.id))?_table$getState$colum:-1:0}},createRow:(row,table)=>{row.getCenterVisibleCells=memo(()=>[row._getAllVisibleCells(),table.getState().columnPinning.left,table.getState().columnPinning.right],(allCells,left,right)=>{const leftAndRight=[...null!=left?left:[],...null!=right?right:[]];return allCells.filter(d=>!leftAndRight.includes(d.column.id))},getMemoOptions(table.options,"debugRows"));row.getLeftVisibleCells=memo(()=>[row._getAllVisibleCells(),table.getState().columnPinning.left],(allCells,left)=>{const cells=(null!=left?left:[]).map(columnId=>allCells.find(cell=>cell.column.id===columnId)).filter(Boolean).map(d=>({...d,position:"left"}));return cells},getMemoOptions(table.options,"debugRows"));row.getRightVisibleCells=memo(()=>[row._getAllVisibleCells(),table.getState().columnPinning.right],(allCells,right)=>{const cells=(null!=right?right:[]).map(columnId=>allCells.find(cell=>cell.column.id===columnId)).filter(Boolean).map(d=>({...d,position:"right"}));return cells},getMemoOptions(table.options,"debugRows"))},createTable:table=>{table.setColumnPinning=updater=>null==table.options.onColumnPinningChange?void 0:table.options.onColumnPinningChange(updater);table.resetColumnPinning=defaultState=>{var _table$initialState$c,_table$initialState;return table.setColumnPinning(defaultState?getDefaultColumnPinningState():null!=(_table$initialState$c=null==(_table$initialState=table.initialState)?void 0:_table$initialState.columnPinning)?_table$initialState$c:getDefaultColumnPinningState())};table.getIsSomeColumnsPinned=position=>{var _pinningState$positio;const pinningState=table.getState().columnPinning;if(!position){var _pinningState$left,_pinningState$right;return Boolean((null==(_pinningState$left=pinningState.left)?void 0:_pinningState$left.length)||(null==(_pinningState$right=pinningState.right)?void 0:_pinningState$right.length))}return Boolean(null==(_pinningState$positio=pinningState[position])?void 0:_pinningState$positio.length)};table.getLeftLeafColumns=memo(()=>[table.getAllLeafColumns(),table.getState().columnPinning.left],(allColumns,left)=>(null!=left?left:[]).map(columnId=>allColumns.find(column=>column.id===columnId)).filter(Boolean),getMemoOptions(table.options,"debugColumns"));table.getRightLeafColumns=memo(()=>[table.getAllLeafColumns(),table.getState().columnPinning.right],(allColumns,right)=>(null!=right?right:[]).map(columnId=>allColumns.find(column=>column.id===columnId)).filter(Boolean),getMemoOptions(table.options,"debugColumns"));table.getCenterLeafColumns=memo(()=>[table.getAllLeafColumns(),table.getState().columnPinning.left,table.getState().columnPinning.right],(allColumns,left,right)=>{const leftAndRight=[...null!=left?left:[],...null!=right?right:[]];return allColumns.filter(d=>!leftAndRight.includes(d.id))},getMemoOptions(table.options,"debugColumns"))}};function safelyAccessDocument(_document){return _document||("undefined"!=typeof document?document:null)}const defaultColumnSizing={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},getDefaultColumnSizingInfoState=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),ColumnSizing={getDefaultColumnDef:()=>defaultColumnSizing,getInitialState:state=>({columnSizing:{},columnSizingInfo:getDefaultColumnSizingInfoState(),...state}),getDefaultOptions:table=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:makeStateUpdater("columnSizing",table),onColumnSizingInfoChange:makeStateUpdater("columnSizingInfo",table)}),createColumn:(column,table)=>{column.getSize=()=>{var _column$columnDef$min,_ref,_column$columnDef$max;const columnSize=table.getState().columnSizing[column.id];return Math.min(Math.max(null!=(_column$columnDef$min=column.columnDef.minSize)?_column$columnDef$min:defaultColumnSizing.minSize,null!=(_ref=null!=columnSize?columnSize:column.columnDef.size)?_ref:defaultColumnSizing.size),null!=(_column$columnDef$max=column.columnDef.maxSize)?_column$columnDef$max:defaultColumnSizing.maxSize)};column.getStart=memo(position=>[position,_getVisibleLeafColumns(table,position),table.getState().columnSizing],(position,columns)=>columns.slice(0,column.getIndex(position)).reduce((sum2,column2)=>sum2+column2.getSize(),0),getMemoOptions(table.options,"debugColumns"));column.getAfter=memo(position=>[position,_getVisibleLeafColumns(table,position),table.getState().columnSizing],(position,columns)=>columns.slice(column.getIndex(position)+1).reduce((sum2,column2)=>sum2+column2.getSize(),0),getMemoOptions(table.options,"debugColumns"));column.resetSize=()=>{table.setColumnSizing(_ref2=>{let{[column.id]:_,...rest}=_ref2;return rest})};column.getCanResize=()=>{var _column$columnDef$ena,_table$options$enable;return(null==(_column$columnDef$ena=column.columnDef.enableResizing)||_column$columnDef$ena)&&(null==(_table$options$enable=table.options.enableColumnResizing)||_table$options$enable)};column.getIsResizing=()=>table.getState().columnSizingInfo.isResizingColumn===column.id},createHeader:(header,table)=>{header.getSize=()=>{let sum2=0;const recurse=header2=>{if(header2.subHeaders.length)header2.subHeaders.forEach(recurse);else{var _header$column$getSiz;sum2+=null!=(_header$column$getSiz=header2.column.getSize())?_header$column$getSiz:0}};recurse(header);return sum2};header.getStart=()=>{if(header.index>0){const prevSiblingHeader=header.headerGroup.headers[header.index-1];return prevSiblingHeader.getStart()+prevSiblingHeader.getSize()}return 0};header.getResizeHandler=_contextDocument=>{const column=table.getColumn(header.column.id),canResize=null==column?void 0:column.getCanResize();return e=>{if(!column||!canResize)return;null==e.persist||e.persist();if(isTouchStartEvent(e)&&e.touches&&e.touches.length>1)return;const startSize=header.getSize(),columnSizingStart=header?header.getLeafHeaders().map(d=>[d.column.id,d.column.getSize()]):[[column.id,column.getSize()]],clientX=isTouchStartEvent(e)?Math.round(e.touches[0].clientX):e.clientX,newColumnSizing={},updateOffset=(eventType,clientXPos)=>{if("number"==typeof clientXPos){table.setColumnSizingInfo(old=>{var _old$startOffset,_old$startSize;const deltaDirection="rtl"===table.options.columnResizeDirection?-1:1,deltaOffset=(clientXPos-(null!=(_old$startOffset=null==old?void 0:old.startOffset)?_old$startOffset:0))*deltaDirection,deltaPercentage=Math.max(deltaOffset/(null!=(_old$startSize=null==old?void 0:old.startSize)?_old$startSize:0),-.999999);old.columnSizingStart.forEach(_ref3=>{let[columnId,headerSize]=_ref3;newColumnSizing[columnId]=Math.round(100*Math.max(headerSize+headerSize*deltaPercentage,0))/100});return{...old,deltaOffset:deltaOffset,deltaPercentage:deltaPercentage}});"onChange"!==table.options.columnResizeMode&&"end"!==eventType||table.setColumnSizing(old=>({...old,...newColumnSizing}))}},onMove=clientXPos=>updateOffset("move",clientXPos),onEnd=clientXPos=>{updateOffset("end",clientXPos);table.setColumnSizingInfo(old=>({...old,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},contextDocument=safelyAccessDocument(_contextDocument),mouseEvents={moveHandler:e2=>onMove(e2.clientX),upHandler:e2=>{null==contextDocument||contextDocument.removeEventListener("mousemove",mouseEvents.moveHandler);null==contextDocument||contextDocument.removeEventListener("mouseup",mouseEvents.upHandler);onEnd(e2.clientX)}},touchEvents={moveHandler:e2=>{if(e2.cancelable){e2.preventDefault();e2.stopPropagation()}onMove(e2.touches[0].clientX);return!1},upHandler:e2=>{var _e$touches$;null==contextDocument||contextDocument.removeEventListener("touchmove",touchEvents.moveHandler);null==contextDocument||contextDocument.removeEventListener("touchend",touchEvents.upHandler);if(e2.cancelable){e2.preventDefault();e2.stopPropagation()}onEnd(null==(_e$touches$=e2.touches[0])?void 0:_e$touches$.clientX)}},passiveIfSupported=!!passiveEventSupported()&&{passive:!1};if(isTouchStartEvent(e)){null==contextDocument||contextDocument.addEventListener("touchmove",touchEvents.moveHandler,passiveIfSupported);null==contextDocument||contextDocument.addEventListener("touchend",touchEvents.upHandler,passiveIfSupported)}else{null==contextDocument||contextDocument.addEventListener("mousemove",mouseEvents.moveHandler,passiveIfSupported);null==contextDocument||contextDocument.addEventListener("mouseup",mouseEvents.upHandler,passiveIfSupported)}table.setColumnSizingInfo(old=>({...old,startOffset:clientX,startSize:startSize,deltaOffset:0,deltaPercentage:0,columnSizingStart:columnSizingStart,isResizingColumn:column.id}))}}},createTable:table=>{table.setColumnSizing=updater=>null==table.options.onColumnSizingChange?void 0:table.options.onColumnSizingChange(updater);table.setColumnSizingInfo=updater=>null==table.options.onColumnSizingInfoChange?void 0:table.options.onColumnSizingInfoChange(updater);table.resetColumnSizing=defaultState=>{var _table$initialState$c;table.setColumnSizing(defaultState?{}:null!=(_table$initialState$c=table.initialState.columnSizing)?_table$initialState$c:{})};table.resetHeaderSizeInfo=defaultState=>{var _table$initialState$c2;table.setColumnSizingInfo(defaultState?getDefaultColumnSizingInfoState():null!=(_table$initialState$c2=table.initialState.columnSizingInfo)?_table$initialState$c2:getDefaultColumnSizingInfoState())};table.getTotalSize=()=>{var _table$getHeaderGroup,_table$getHeaderGroup2;return null!=(_table$getHeaderGroup=null==(_table$getHeaderGroup2=table.getHeaderGroups()[0])?void 0:_table$getHeaderGroup2.headers.reduce((sum2,header)=>sum2+header.getSize(),0))?_table$getHeaderGroup:0};table.getLeftTotalSize=()=>{var _table$getLeftHeaderG,_table$getLeftHeaderG2;return null!=(_table$getLeftHeaderG=null==(_table$getLeftHeaderG2=table.getLeftHeaderGroups()[0])?void 0:_table$getLeftHeaderG2.headers.reduce((sum2,header)=>sum2+header.getSize(),0))?_table$getLeftHeaderG:0};table.getCenterTotalSize=()=>{var _table$getCenterHeade,_table$getCenterHeade2;return null!=(_table$getCenterHeade=null==(_table$getCenterHeade2=table.getCenterHeaderGroups()[0])?void 0:_table$getCenterHeade2.headers.reduce((sum2,header)=>sum2+header.getSize(),0))?_table$getCenterHeade:0};table.getRightTotalSize=()=>{var _table$getRightHeader,_table$getRightHeader2;return null!=(_table$getRightHeader=null==(_table$getRightHeader2=table.getRightHeaderGroups()[0])?void 0:_table$getRightHeader2.headers.reduce((sum2,header)=>sum2+header.getSize(),0))?_table$getRightHeader:0}}};let passiveSupported=null;function passiveEventSupported(){if("boolean"==typeof passiveSupported)return passiveSupported;let supported=!1;try{const options={get passive(){supported=!0;return!1}},noop2=()=>{};window.addEventListener("test",noop2,options);window.removeEventListener("test",noop2)}catch(err){supported=!1}passiveSupported=supported;return passiveSupported}function isTouchStartEvent(e){return"touchstart"===e.type}const ColumnVisibility={getInitialState:state=>({columnVisibility:{},...state}),getDefaultOptions:table=>({onColumnVisibilityChange:makeStateUpdater("columnVisibility",table)}),createColumn:(column,table)=>{column.toggleVisibility=value=>{column.getCanHide()&&table.setColumnVisibility(old=>({...old,[column.id]:null!=value?value:!column.getIsVisible()}))};column.getIsVisible=()=>{var _ref,_table$getState$colum;const childColumns=column.columns;return null==(_ref=childColumns.length?childColumns.some(c=>c.getIsVisible()):null==(_table$getState$colum=table.getState().columnVisibility)?void 0:_table$getState$colum[column.id])||_ref};column.getCanHide=()=>{var _column$columnDef$ena,_table$options$enable;return(null==(_column$columnDef$ena=column.columnDef.enableHiding)||_column$columnDef$ena)&&(null==(_table$options$enable=table.options.enableHiding)||_table$options$enable)};column.getToggleVisibilityHandler=()=>e=>{null==column.toggleVisibility||column.toggleVisibility(e.target.checked)}},createRow:(row,table)=>{row._getAllVisibleCells=memo(()=>[row.getAllCells(),table.getState().columnVisibility],cells=>cells.filter(cell=>cell.column.getIsVisible()),getMemoOptions(table.options,"debugRows"));row.getVisibleCells=memo(()=>[row.getLeftVisibleCells(),row.getCenterVisibleCells(),row.getRightVisibleCells()],(left,center,right)=>[...left,...center,...right],getMemoOptions(table.options,"debugRows"))},createTable:table=>{const makeVisibleColumnsMethod=(key,getColumns)=>memo(()=>[getColumns(),getColumns().filter(d=>d.getIsVisible()).map(d=>d.id).join("_")],columns=>columns.filter(d=>null==d.getIsVisible?void 0:d.getIsVisible()),getMemoOptions(table.options,"debugColumns"));table.getVisibleFlatColumns=makeVisibleColumnsMethod("getVisibleFlatColumns",()=>table.getAllFlatColumns());table.getVisibleLeafColumns=makeVisibleColumnsMethod("getVisibleLeafColumns",()=>table.getAllLeafColumns());table.getLeftVisibleLeafColumns=makeVisibleColumnsMethod("getLeftVisibleLeafColumns",()=>table.getLeftLeafColumns());table.getRightVisibleLeafColumns=makeVisibleColumnsMethod("getRightVisibleLeafColumns",()=>table.getRightLeafColumns());table.getCenterVisibleLeafColumns=makeVisibleColumnsMethod("getCenterVisibleLeafColumns",()=>table.getCenterLeafColumns());table.setColumnVisibility=updater=>null==table.options.onColumnVisibilityChange?void 0:table.options.onColumnVisibilityChange(updater);table.resetColumnVisibility=defaultState=>{var _table$initialState$c;table.setColumnVisibility(defaultState?{}:null!=(_table$initialState$c=table.initialState.columnVisibility)?_table$initialState$c:{})};table.toggleAllColumnsVisible=value=>{var _value;value=null!=(_value=value)?_value:!table.getIsAllColumnsVisible();table.setColumnVisibility(table.getAllLeafColumns().reduce((obj,column)=>({...obj,[column.id]:value||!(null!=column.getCanHide&&column.getCanHide())}),{}))};table.getIsAllColumnsVisible=()=>!table.getAllLeafColumns().some(column=>!(null!=column.getIsVisible&&column.getIsVisible()));table.getIsSomeColumnsVisible=()=>table.getAllLeafColumns().some(column=>null==column.getIsVisible?void 0:column.getIsVisible());table.getToggleAllColumnsVisibilityHandler=()=>e=>{var _target;table.toggleAllColumnsVisible(null==(_target=e.target)?void 0:_target.checked)}}};function _getVisibleLeafColumns(table,position){return position?"center"===position?table.getCenterVisibleLeafColumns():"left"===position?table.getLeftVisibleLeafColumns():table.getRightVisibleLeafColumns():table.getVisibleLeafColumns()}const GlobalFaceting={createTable:table=>{table._getGlobalFacetedRowModel=table.options.getFacetedRowModel&&table.options.getFacetedRowModel(table,"__global__");table.getGlobalFacetedRowModel=()=>table.options.manualFiltering||!table._getGlobalFacetedRowModel?table.getPreFilteredRowModel():table._getGlobalFacetedRowModel();table._getGlobalFacetedUniqueValues=table.options.getFacetedUniqueValues&&table.options.getFacetedUniqueValues(table,"__global__");table.getGlobalFacetedUniqueValues=()=>table._getGlobalFacetedUniqueValues?table._getGlobalFacetedUniqueValues():new Map;table._getGlobalFacetedMinMaxValues=table.options.getFacetedMinMaxValues&&table.options.getFacetedMinMaxValues(table,"__global__");table.getGlobalFacetedMinMaxValues=()=>{if(table._getGlobalFacetedMinMaxValues)return table._getGlobalFacetedMinMaxValues()}}},GlobalFiltering={getInitialState:state=>({globalFilter:void 0,...state}),getDefaultOptions:table=>({onGlobalFilterChange:makeStateUpdater("globalFilter",table),globalFilterFn:"auto",getColumnCanGlobalFilter:column=>{var _table$getCoreRowMode;const value=null==(_table$getCoreRowMode=table.getCoreRowModel().flatRows[0])||null==(_table$getCoreRowMode=_table$getCoreRowMode._getAllCellsByColumnId()[column.id])?void 0:_table$getCoreRowMode.getValue();return"string"==typeof value||"number"==typeof value}}),createColumn:(column,table)=>{column.getCanGlobalFilter=()=>{var _column$columnDef$ena,_table$options$enable,_table$options$enable2,_table$options$getCol;return(null==(_column$columnDef$ena=column.columnDef.enableGlobalFilter)||_column$columnDef$ena)&&(null==(_table$options$enable=table.options.enableGlobalFilter)||_table$options$enable)&&(null==(_table$options$enable2=table.options.enableFilters)||_table$options$enable2)&&(null==(_table$options$getCol=null==table.options.getColumnCanGlobalFilter?void 0:table.options.getColumnCanGlobalFilter(column))||_table$options$getCol)&&!!column.accessorFn}},createTable:table=>{table.getGlobalAutoFilterFn=()=>filterFns.includesString;table.getGlobalFilterFn=()=>{var _table$options$filter,_table$options$filter2;const{globalFilterFn:globalFilterFn}=table.options;return isFunction(globalFilterFn)?globalFilterFn:"auto"===globalFilterFn?table.getGlobalAutoFilterFn():null!=(_table$options$filter=null==(_table$options$filter2=table.options.filterFns)?void 0:_table$options$filter2[globalFilterFn])?_table$options$filter:filterFns[globalFilterFn]};table.setGlobalFilter=updater=>{null==table.options.onGlobalFilterChange||table.options.onGlobalFilterChange(updater)};table.resetGlobalFilter=defaultState=>{table.setGlobalFilter(defaultState?void 0:table.initialState.globalFilter)}}},RowExpanding={getInitialState:state=>({expanded:{},...state}),getDefaultOptions:table=>({onExpandedChange:makeStateUpdater("expanded",table),paginateExpandedRows:!0}),createTable:table=>{let registered=!1,queued=!1;table._autoResetExpanded=()=>{var _ref,_table$options$autoRe;if(registered){if(null!=(_ref=null!=(_table$options$autoRe=table.options.autoResetAll)?_table$options$autoRe:table.options.autoResetExpanded)?_ref:!table.options.manualExpanding){if(queued)return;queued=!0;table._queue(()=>{table.resetExpanded();queued=!1})}}else table._queue(()=>{registered=!0})};table.setExpanded=updater=>null==table.options.onExpandedChange?void 0:table.options.onExpandedChange(updater);table.toggleAllRowsExpanded=expanded=>{(null!=expanded?expanded:!table.getIsAllRowsExpanded())?table.setExpanded(!0):table.setExpanded({})};table.resetExpanded=defaultState=>{var _table$initialState$e,_table$initialState;table.setExpanded(defaultState?{}:null!=(_table$initialState$e=null==(_table$initialState=table.initialState)?void 0:_table$initialState.expanded)?_table$initialState$e:{})};table.getCanSomeRowsExpand=()=>table.getPrePaginationRowModel().flatRows.some(row=>row.getCanExpand());table.getToggleAllRowsExpandedHandler=()=>e=>{null==e.persist||e.persist();table.toggleAllRowsExpanded()};table.getIsSomeRowsExpanded=()=>{const expanded=table.getState().expanded;return!0===expanded||Object.values(expanded).some(Boolean)};table.getIsAllRowsExpanded=()=>{const expanded=table.getState().expanded;return"boolean"==typeof expanded?!0===expanded:!!Object.keys(expanded).length&&!table.getRowModel().flatRows.some(row=>!row.getIsExpanded())};table.getExpandedDepth=()=>{let maxDepth=0;const rowIds=!0===table.getState().expanded?Object.keys(table.getRowModel().rowsById):Object.keys(table.getState().expanded);rowIds.forEach(id=>{const splitId=id.split(".");maxDepth=Math.max(maxDepth,splitId.length)});return maxDepth};table.getPreExpandedRowModel=()=>table.getSortedRowModel();table.getExpandedRowModel=()=>{!table._getExpandedRowModel&&table.options.getExpandedRowModel&&(table._getExpandedRowModel=table.options.getExpandedRowModel(table));return table.options.manualExpanding||!table._getExpandedRowModel?table.getPreExpandedRowModel():table._getExpandedRowModel()}},createRow:(row,table)=>{row.toggleExpanded=expanded=>{table.setExpanded(old=>{var _expanded;const exists=!0===old||!(null==old||!old[row.id]);let oldExpanded={};!0===old?Object.keys(table.getRowModel().rowsById).forEach(rowId=>{oldExpanded[rowId]=!0}):oldExpanded=old;expanded=null!=(_expanded=expanded)?_expanded:!exists;if(!exists&&expanded)return{...oldExpanded,[row.id]:!0};if(exists&&!expanded){const{[row.id]:_,...rest}=oldExpanded;return rest}return old})};row.getIsExpanded=()=>{var _table$options$getIsR;const expanded=table.getState().expanded;return!!(null!=(_table$options$getIsR=null==table.options.getIsRowExpanded?void 0:table.options.getIsRowExpanded(row))?_table$options$getIsR:!0===expanded||(null==expanded?void 0:expanded[row.id]))};row.getCanExpand=()=>{var _table$options$getRow,_table$options$enable,_row$subRows;return null!=(_table$options$getRow=null==table.options.getRowCanExpand?void 0:table.options.getRowCanExpand(row))?_table$options$getRow:(null==(_table$options$enable=table.options.enableExpanding)||_table$options$enable)&&!(null==(_row$subRows=row.subRows)||!_row$subRows.length)};row.getIsAllParentsExpanded=()=>{let isFullyExpanded=!0,currentRow=row;for(;isFullyExpanded&&currentRow.parentId;){currentRow=table.getRow(currentRow.parentId,!0);isFullyExpanded=currentRow.getIsExpanded()}return isFullyExpanded};row.getToggleExpandedHandler=()=>{const canExpand=row.getCanExpand();return()=>{canExpand&&row.toggleExpanded()}}}},defaultPageIndex=0,defaultPageSize=10,getDefaultPaginationState=()=>({pageIndex:defaultPageIndex,pageSize:defaultPageSize}),RowPagination={getInitialState:state=>({...state,pagination:{...getDefaultPaginationState(),...null==state?void 0:state.pagination}}),getDefaultOptions:table=>({onPaginationChange:makeStateUpdater("pagination",table)}),createTable:table=>{let registered=!1,queued=!1;table._autoResetPageIndex=()=>{var _ref,_table$options$autoRe;if(registered){if(null!=(_ref=null!=(_table$options$autoRe=table.options.autoResetAll)?_table$options$autoRe:table.options.autoResetPageIndex)?_ref:!table.options.manualPagination){if(queued)return;queued=!0;table._queue(()=>{table.resetPageIndex();queued=!1})}}else table._queue(()=>{registered=!0})};table.setPagination=updater=>{const safeUpdater=old=>{let newState=functionalUpdate(updater,old);return newState};return null==table.options.onPaginationChange?void 0:table.options.onPaginationChange(safeUpdater)};table.resetPagination=defaultState=>{var _table$initialState$p;table.setPagination(defaultState?getDefaultPaginationState():null!=(_table$initialState$p=table.initialState.pagination)?_table$initialState$p:getDefaultPaginationState())};table.setPageIndex=updater=>{table.setPagination(old=>{let pageIndex=functionalUpdate(updater,old.pageIndex);const maxPageIndex=void 0===table.options.pageCount||-1===table.options.pageCount?Number.MAX_SAFE_INTEGER:table.options.pageCount-1;pageIndex=Math.max(0,Math.min(pageIndex,maxPageIndex));return{...old,pageIndex:pageIndex}})};table.resetPageIndex=defaultState=>{var _table$initialState$p2,_table$initialState;table.setPageIndex(defaultState?defaultPageIndex:null!=(_table$initialState$p2=null==(_table$initialState=table.initialState)||null==(_table$initialState=_table$initialState.pagination)?void 0:_table$initialState.pageIndex)?_table$initialState$p2:defaultPageIndex)};table.resetPageSize=defaultState=>{var _table$initialState$p3,_table$initialState2;table.setPageSize(defaultState?defaultPageSize:null!=(_table$initialState$p3=null==(_table$initialState2=table.initialState)||null==(_table$initialState2=_table$initialState2.pagination)?void 0:_table$initialState2.pageSize)?_table$initialState$p3:defaultPageSize)};table.setPageSize=updater=>{table.setPagination(old=>{const pageSize=Math.max(1,functionalUpdate(updater,old.pageSize)),topRowIndex=old.pageSize*old.pageIndex,pageIndex=Math.floor(topRowIndex/pageSize);return{...old,pageIndex:pageIndex,pageSize:pageSize}})};table.setPageCount=updater=>table.setPagination(old=>{var _table$options$pageCo;let newPageCount=functionalUpdate(updater,null!=(_table$options$pageCo=table.options.pageCount)?_table$options$pageCo:-1);"number"==typeof newPageCount&&(newPageCount=Math.max(-1,newPageCount));return{...old,pageCount:newPageCount}});table.getPageOptions=memo(()=>[table.getPageCount()],pageCount=>{let pageOptions=[];pageCount&&pageCount>0&&(pageOptions=[...new Array(pageCount)].fill(null).map((_,i)=>i));return pageOptions},getMemoOptions(table.options,"debugTable"));table.getCanPreviousPage=()=>table.getState().pagination.pageIndex>0;table.getCanNextPage=()=>{const{pageIndex:pageIndex}=table.getState().pagination,pageCount=table.getPageCount();return-1===pageCount||0!==pageCount&&pageIndex<pageCount-1};table.previousPage=()=>table.setPageIndex(old=>old-1);table.nextPage=()=>table.setPageIndex(old=>old+1);table.firstPage=()=>table.setPageIndex(0);table.lastPage=()=>table.setPageIndex(table.getPageCount()-1);table.getPrePaginationRowModel=()=>table.getExpandedRowModel();table.getPaginationRowModel=()=>{!table._getPaginationRowModel&&table.options.getPaginationRowModel&&(table._getPaginationRowModel=table.options.getPaginationRowModel(table));return table.options.manualPagination||!table._getPaginationRowModel?table.getPrePaginationRowModel():table._getPaginationRowModel()};table.getPageCount=()=>{var _table$options$pageCo2;return null!=(_table$options$pageCo2=table.options.pageCount)?_table$options$pageCo2:Math.ceil(table.getRowCount()/table.getState().pagination.pageSize)};table.getRowCount=()=>{var _table$options$rowCou;return null!=(_table$options$rowCou=table.options.rowCount)?_table$options$rowCou:table.getPrePaginationRowModel().rows.length}}},getDefaultRowPinningState=()=>({top:[],bottom:[]}),RowPinning={getInitialState:state=>({rowPinning:getDefaultRowPinningState(),...state}),getDefaultOptions:table=>({onRowPinningChange:makeStateUpdater("rowPinning",table)}),createRow:(row,table)=>{row.pin=(position,includeLeafRows,includeParentRows)=>{const leafRowIds=includeLeafRows?row.getLeafRows().map(_ref=>{let{id:id}=_ref;return id}):[],parentRowIds=includeParentRows?row.getParentRows().map(_ref2=>{let{id:id}=_ref2;return id}):[],rowIds=new Set([...parentRowIds,row.id,...leafRowIds]);table.setRowPinning(old=>{var _old$top3,_old$bottom3;if("bottom"===position){var _old$top,_old$bottom;return{top:(null!=(_old$top=null==old?void 0:old.top)?_old$top:[]).filter(d=>!(null!=rowIds&&rowIds.has(d))),bottom:[...(null!=(_old$bottom=null==old?void 0:old.bottom)?_old$bottom:[]).filter(d=>!(null!=rowIds&&rowIds.has(d))),...Array.from(rowIds)]}}if("top"===position){var _old$top2,_old$bottom2;return{top:[...(null!=(_old$top2=null==old?void 0:old.top)?_old$top2:[]).filter(d=>!(null!=rowIds&&rowIds.has(d))),...Array.from(rowIds)],bottom:(null!=(_old$bottom2=null==old?void 0:old.bottom)?_old$bottom2:[]).filter(d=>!(null!=rowIds&&rowIds.has(d)))}}return{top:(null!=(_old$top3=null==old?void 0:old.top)?_old$top3:[]).filter(d=>!(null!=rowIds&&rowIds.has(d))),bottom:(null!=(_old$bottom3=null==old?void 0:old.bottom)?_old$bottom3:[]).filter(d=>!(null!=rowIds&&rowIds.has(d)))}})};row.getCanPin=()=>{var _ref3;const{enableRowPinning:enableRowPinning,enablePinning:enablePinning}=table.options;return"function"==typeof enableRowPinning?enableRowPinning(row):null==(_ref3=null!=enableRowPinning?enableRowPinning:enablePinning)||_ref3};row.getIsPinned=()=>{const rowIds=[row.id],{top:top,bottom:bottom}=table.getState().rowPinning,isTop=rowIds.some(d=>null==top?void 0:top.includes(d)),isBottom=rowIds.some(d=>null==bottom?void 0:bottom.includes(d));return isTop?"top":!!isBottom&&"bottom"};row.getPinnedIndex=()=>{var _ref4,_visiblePinnedRowIds$;const position=row.getIsPinned();if(!position)return-1;const visiblePinnedRowIds=null==(_ref4="top"===position?table.getTopRows():table.getBottomRows())?void 0:_ref4.map(_ref5=>{let{id:id}=_ref5;return id});return null!=(_visiblePinnedRowIds$=null==visiblePinnedRowIds?void 0:visiblePinnedRowIds.indexOf(row.id))?_visiblePinnedRowIds$:-1}},createTable:table=>{table.setRowPinning=updater=>null==table.options.onRowPinningChange?void 0:table.options.onRowPinningChange(updater);table.resetRowPinning=defaultState=>{var _table$initialState$r,_table$initialState;return table.setRowPinning(defaultState?getDefaultRowPinningState():null!=(_table$initialState$r=null==(_table$initialState=table.initialState)?void 0:_table$initialState.rowPinning)?_table$initialState$r:getDefaultRowPinningState())};table.getIsSomeRowsPinned=position=>{var _pinningState$positio;const pinningState=table.getState().rowPinning;if(!position){var _pinningState$top,_pinningState$bottom;return Boolean((null==(_pinningState$top=pinningState.top)?void 0:_pinningState$top.length)||(null==(_pinningState$bottom=pinningState.bottom)?void 0:_pinningState$bottom.length))}return Boolean(null==(_pinningState$positio=pinningState[position])?void 0:_pinningState$positio.length)};table._getPinnedRows=(visibleRows,pinnedRowIds,position)=>{var _table$options$keepPi;const rows=null==(_table$options$keepPi=table.options.keepPinnedRows)||_table$options$keepPi?(null!=pinnedRowIds?pinnedRowIds:[]).map(rowId=>{const row=table.getRow(rowId,!0);return row.getIsAllParentsExpanded()?row:null}):(null!=pinnedRowIds?pinnedRowIds:[]).map(rowId=>visibleRows.find(row=>row.id===rowId));return rows.filter(Boolean).map(d=>({...d,position:position}))};table.getTopRows=memo(()=>[table.getRowModel().rows,table.getState().rowPinning.top],(allRows,topPinnedRowIds)=>table._getPinnedRows(allRows,topPinnedRowIds,"top"),getMemoOptions(table.options,"debugRows"));table.getBottomRows=memo(()=>[table.getRowModel().rows,table.getState().rowPinning.bottom],(allRows,bottomPinnedRowIds)=>table._getPinnedRows(allRows,bottomPinnedRowIds,"bottom"),getMemoOptions(table.options,"debugRows"));table.getCenterRows=memo(()=>[table.getRowModel().rows,table.getState().rowPinning.top,table.getState().rowPinning.bottom],(allRows,top,bottom)=>{const topAndBottom=new Set([...null!=top?top:[],...null!=bottom?bottom:[]]);return allRows.filter(d=>!topAndBottom.has(d.id))},getMemoOptions(table.options,"debugRows"))}},RowSelection={getInitialState:state=>({rowSelection:{},...state}),getDefaultOptions:table=>({onRowSelectionChange:makeStateUpdater("rowSelection",table),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:table=>{table.setRowSelection=updater=>null==table.options.onRowSelectionChange?void 0:table.options.onRowSelectionChange(updater);table.resetRowSelection=defaultState=>{var _table$initialState$r;return table.setRowSelection(defaultState?{}:null!=(_table$initialState$r=table.initialState.rowSelection)?_table$initialState$r:{})};table.toggleAllRowsSelected=value=>{table.setRowSelection(old=>{value=void 0!==value?value:!table.getIsAllRowsSelected();const rowSelection={...old},preGroupedFlatRows=table.getPreGroupedRowModel().flatRows;value?preGroupedFlatRows.forEach(row=>{row.getCanSelect()&&(rowSelection[row.id]=!0)}):preGroupedFlatRows.forEach(row=>{delete rowSelection[row.id]});return rowSelection})};table.toggleAllPageRowsSelected=value=>table.setRowSelection(old=>{const resolvedValue=void 0!==value?value:!table.getIsAllPageRowsSelected(),rowSelection={...old};table.getRowModel().rows.forEach(row=>{mutateRowIsSelected(rowSelection,row.id,resolvedValue,!0,table)});return rowSelection});table.getPreSelectedRowModel=()=>table.getCoreRowModel();table.getSelectedRowModel=memo(()=>[table.getState().rowSelection,table.getCoreRowModel()],(rowSelection,rowModel)=>Object.keys(rowSelection).length?selectRowsFn(table,rowModel):{rows:[],flatRows:[],rowsById:{}},getMemoOptions(table.options,"debugTable"));table.getFilteredSelectedRowModel=memo(()=>[table.getState().rowSelection,table.getFilteredRowModel()],(rowSelection,rowModel)=>Object.keys(rowSelection).length?selectRowsFn(table,rowModel):{rows:[],flatRows:[],rowsById:{}},getMemoOptions(table.options,"debugTable"));table.getGroupedSelectedRowModel=memo(()=>[table.getState().rowSelection,table.getSortedRowModel()],(rowSelection,rowModel)=>Object.keys(rowSelection).length?selectRowsFn(table,rowModel):{rows:[],flatRows:[],rowsById:{}},getMemoOptions(table.options,"debugTable"));table.getIsAllRowsSelected=()=>{const preGroupedFlatRows=table.getFilteredRowModel().flatRows,{rowSelection:rowSelection}=table.getState();let isAllRowsSelected=Boolean(preGroupedFlatRows.length&&Object.keys(rowSelection).length);isAllRowsSelected&&preGroupedFlatRows.some(row=>row.getCanSelect()&&!rowSelection[row.id])&&(isAllRowsSelected=!1);return isAllRowsSelected};table.getIsAllPageRowsSelected=()=>{const paginationFlatRows=table.getPaginationRowModel().flatRows.filter(row=>row.getCanSelect()),{rowSelection:rowSelection}=table.getState();let isAllPageRowsSelected=!!paginationFlatRows.length;isAllPageRowsSelected&&paginationFlatRows.some(row=>!rowSelection[row.id])&&(isAllPageRowsSelected=!1);return isAllPageRowsSelected};table.getIsSomeRowsSelected=()=>{var _table$getState$rowSe;const totalSelected=Object.keys(null!=(_table$getState$rowSe=table.getState().rowSelection)?_table$getState$rowSe:{}).length;return totalSelected>0&&totalSelected<table.getFilteredRowModel().flatRows.length};table.getIsSomePageRowsSelected=()=>{const paginationFlatRows=table.getPaginationRowModel().flatRows;return!table.getIsAllPageRowsSelected()&&paginationFlatRows.filter(row=>row.getCanSelect()).some(d=>d.getIsSelected()||d.getIsSomeSelected())};table.getToggleAllRowsSelectedHandler=()=>e=>{table.toggleAllRowsSelected(e.target.checked)};table.getToggleAllPageRowsSelectedHandler=()=>e=>{table.toggleAllPageRowsSelected(e.target.checked)}},createRow:(row,table)=>{row.toggleSelected=(value,opts)=>{const isSelected=row.getIsSelected();table.setRowSelection(old=>{var _opts$selectChildren;value=void 0!==value?value:!isSelected;if(row.getCanSelect()&&isSelected===value)return old;const selectedRowIds={...old};mutateRowIsSelected(selectedRowIds,row.id,value,null==(_opts$selectChildren=null==opts?void 0:opts.selectChildren)||_opts$selectChildren,table);return selectedRowIds})};row.getIsSelected=()=>{const{rowSelection:rowSelection}=table.getState();return isRowSelected(row,rowSelection)};row.getIsSomeSelected=()=>{const{rowSelection:rowSelection}=table.getState();return"some"===isSubRowSelected(row,rowSelection)};row.getIsAllSubRowsSelected=()=>{const{rowSelection:rowSelection}=table.getState();return"all"===isSubRowSelected(row,rowSelection)};row.getCanSelect=()=>{var _table$options$enable;return"function"==typeof table.options.enableRowSelection?table.options.enableRowSelection(row):null==(_table$options$enable=table.options.enableRowSelection)||_table$options$enable};row.getCanSelectSubRows=()=>{var _table$options$enable2;return"function"==typeof table.options.enableSubRowSelection?table.options.enableSubRowSelection(row):null==(_table$options$enable2=table.options.enableSubRowSelection)||_table$options$enable2};row.getCanMultiSelect=()=>{var _table$options$enable3;return"function"==typeof table.options.enableMultiRowSelection?table.options.enableMultiRowSelection(row):null==(_table$options$enable3=table.options.enableMultiRowSelection)||_table$options$enable3};row.getToggleSelectedHandler=()=>{const canSelect=row.getCanSelect();return e=>{var _target;canSelect&&row.toggleSelected(null==(_target=e.target)?void 0:_target.checked)}}}},mutateRowIsSelected=(selectedRowIds,id,value,includeChildren,table)=>{var _row$subRows;const row=table.getRow(id,!0);if(value){row.getCanMultiSelect()||Object.keys(selectedRowIds).forEach(key=>delete selectedRowIds[key]);row.getCanSelect()&&(selectedRowIds[id]=!0)}else delete selectedRowIds[id];includeChildren&&null!=(_row$subRows=row.subRows)&&_row$subRows.length&&row.getCanSelectSubRows()&&row.subRows.forEach(row2=>mutateRowIsSelected(selectedRowIds,row2.id,value,includeChildren,table))};function selectRowsFn(table,rowModel){const rowSelection=table.getState().rowSelection,newSelectedFlatRows=[],newSelectedRowsById={},recurseRows=function(rows,depth){return rows.map(row=>{var _row$subRows2;const isSelected=isRowSelected(row,rowSelection);if(isSelected){newSelectedFlatRows.push(row);newSelectedRowsById[row.id]=row}null!=(_row$subRows2=row.subRows)&&_row$subRows2.length&&(row={...row,subRows:recurseRows(row.subRows)});if(isSelected)return row}).filter(Boolean)};return{rows:recurseRows(rowModel.rows),flatRows:newSelectedFlatRows,rowsById:newSelectedRowsById}}function isRowSelected(row,selection){var _selection$row$id;return null!=(_selection$row$id=selection[row.id])&&_selection$row$id}function isSubRowSelected(row,selection,table){var _row$subRows3;if(null==(_row$subRows3=row.subRows)||!_row$subRows3.length)return!1;let allChildrenSelected=!0,someSelected=!1;row.subRows.forEach(subRow=>{if(!someSelected||allChildrenSelected){subRow.getCanSelect()&&(isRowSelected(subRow,selection)?someSelected=!0:allChildrenSelected=!1);if(subRow.subRows&&subRow.subRows.length){const subRowChildrenSelected=isSubRowSelected(subRow,selection);if("all"===subRowChildrenSelected)someSelected=!0;else if("some"===subRowChildrenSelected){someSelected=!0;allChildrenSelected=!1}else allChildrenSelected=!1}}});return allChildrenSelected?"all":!!someSelected&&"some"}const reSplitAlphaNumeric=/([0-9]+)/gm,alphanumeric=(rowA,rowB,columnId)=>compareAlphanumeric(toString(rowA.getValue(columnId)).toLowerCase(),toString(rowB.getValue(columnId)).toLowerCase()),alphanumericCaseSensitive=(rowA,rowB,columnId)=>compareAlphanumeric(toString(rowA.getValue(columnId)),toString(rowB.getValue(columnId))),text=(rowA,rowB,columnId)=>compareBasic(toString(rowA.getValue(columnId)).toLowerCase(),toString(rowB.getValue(columnId)).toLowerCase()),textCaseSensitive=(rowA,rowB,columnId)=>compareBasic(toString(rowA.getValue(columnId)),toString(rowB.getValue(columnId))),datetime=(rowA,rowB,columnId)=>{const a=rowA.getValue(columnId),b=rowB.getValue(columnId);return a>b?1:a<b?-1:0},basic=(rowA,rowB,columnId)=>compareBasic(rowA.getValue(columnId),rowB.getValue(columnId));function compareBasic(a,b){return a===b?0:a>b?1:-1}function toString(a){return"number"==typeof a?isNaN(a)||Infinity===a||-Infinity===a?"":String(a):"string"==typeof a?a:""}function compareAlphanumeric(aStr,bStr){const a=aStr.split(reSplitAlphaNumeric).filter(Boolean),b=bStr.split(reSplitAlphaNumeric).filter(Boolean);for(;a.length&&b.length;){const aa=a.shift(),bb=b.shift(),an=parseInt(aa,10),bn=parseInt(bb,10),combo=[an,bn].sort();if(isNaN(combo[0])){if(aa>bb)return 1;if(bb>aa)return-1}else{if(isNaN(combo[1]))return isNaN(an)?-1:1;if(an>bn)return 1;if(bn>an)return-1}}return a.length-b.length}const sortingFns={alphanumeric:alphanumeric,alphanumericCaseSensitive:alphanumericCaseSensitive,text:text,textCaseSensitive:textCaseSensitive,datetime:datetime,basic:basic},RowSorting={getInitialState:state=>({sorting:[],...state}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:table=>({onSortingChange:makeStateUpdater("sorting",table),isMultiSortEvent:e=>e.shiftKey}),createColumn:(column,table)=>{column.getAutoSortingFn=()=>{const firstRows=table.getFilteredRowModel().flatRows.slice(10);let isString=!1;for(const row of firstRows){const value=null==row?void 0:row.getValue(column.id);if("[object Date]"===Object.prototype.toString.call(value))return sortingFns.datetime;if("string"==typeof value){isString=!0;if(value.split(reSplitAlphaNumeric).length>1)return sortingFns.alphanumeric}}return isString?sortingFns.text:sortingFns.basic};column.getAutoSortDir=()=>{const firstRow=table.getFilteredRowModel().flatRows[0],value=null==firstRow?void 0:firstRow.getValue(column.id);return"string"==typeof value?"asc":"desc"};column.getSortingFn=()=>{var _table$options$sortin,_table$options$sortin2;if(!column)throw new Error;return isFunction(column.columnDef.sortingFn)?column.columnDef.sortingFn:"auto"===column.columnDef.sortingFn?column.getAutoSortingFn():null!=(_table$options$sortin=null==(_table$options$sortin2=table.options.sortingFns)?void 0:_table$options$sortin2[column.columnDef.sortingFn])?_table$options$sortin:sortingFns[column.columnDef.sortingFn]};column.toggleSorting=(desc,multi)=>{const nextSortingOrder=column.getNextSortingOrder(),hasManualValue=null!=desc;table.setSorting(old=>{const existingSorting=null==old?void 0:old.find(d=>d.id===column.id),existingIndex=null==old?void 0:old.findIndex(d=>d.id===column.id);let newSorting=[],sortAction,nextDesc=hasManualValue?desc:"desc"===nextSortingOrder;sortAction=null!=old&&old.length&&column.getCanMultiSort()&&multi?existingSorting?"toggle":"add":null!=old&&old.length&&existingIndex!==old.length-1?"replace":existingSorting?"toggle":"replace";"toggle"===sortAction&&(hasManualValue||nextSortingOrder||(sortAction="remove"));if("add"===sortAction){var _table$options$maxMul;newSorting=[...old,{id:column.id,desc:nextDesc}];newSorting.splice(0,newSorting.length-(null!=(_table$options$maxMul=table.options.maxMultiSortColCount)?_table$options$maxMul:Number.MAX_SAFE_INTEGER))}else newSorting="toggle"===sortAction?old.map(d=>d.id===column.id?{...d,desc:nextDesc}:d):"remove"===sortAction?old.filter(d=>d.id!==column.id):[{id:column.id,desc:nextDesc}];return newSorting})};column.getFirstSortDir=()=>{var _ref,_column$columnDef$sor;const sortDescFirst=null!=(_ref=null!=(_column$columnDef$sor=column.columnDef.sortDescFirst)?_column$columnDef$sor:table.options.sortDescFirst)?_ref:"desc"===column.getAutoSortDir();return sortDescFirst?"desc":"asc"};column.getNextSortingOrder=multi=>{var _table$options$enable,_table$options$enable2;const firstSortDirection=column.getFirstSortDir(),isSorted=column.getIsSorted();return isSorted?!!(isSorted===firstSortDirection||null!=(_table$options$enable=table.options.enableSortingRemoval)&&!_table$options$enable||multi&&null!=(_table$options$enable2=table.options.enableMultiRemove)&&!_table$options$enable2)&&("desc"===isSorted?"asc":"desc"):firstSortDirection};column.getCanSort=()=>{var _column$columnDef$ena,_table$options$enable3;return(null==(_column$columnDef$ena=column.columnDef.enableSorting)||_column$columnDef$ena)&&(null==(_table$options$enable3=table.options.enableSorting)||_table$options$enable3)&&!!column.accessorFn};column.getCanMultiSort=()=>{var _ref2,_column$columnDef$ena2;return null!=(_ref2=null!=(_column$columnDef$ena2=column.columnDef.enableMultiSort)?_column$columnDef$ena2:table.options.enableMultiSort)?_ref2:!!column.accessorFn};column.getIsSorted=()=>{var _table$getState$sorti;const columnSort=null==(_table$getState$sorti=table.getState().sorting)?void 0:_table$getState$sorti.find(d=>d.id===column.id);return!!columnSort&&(columnSort.desc?"desc":"asc")};column.getSortIndex=()=>{var _table$getState$sorti2,_table$getState$sorti3;return null!=(_table$getState$sorti2=null==(_table$getState$sorti3=table.getState().sorting)?void 0:_table$getState$sorti3.findIndex(d=>d.id===column.id))?_table$getState$sorti2:-1};column.clearSorting=()=>{table.setSorting(old=>null!=old&&old.length?old.filter(d=>d.id!==column.id):[])};column.getToggleSortingHandler=()=>{const canSort=column.getCanSort();return e=>{if(canSort){null==e.persist||e.persist();null==column.toggleSorting||column.toggleSorting(void 0,!!column.getCanMultiSort()&&(null==table.options.isMultiSortEvent?void 0:table.options.isMultiSortEvent(e)))}}}},createTable:table=>{table.setSorting=updater=>null==table.options.onSortingChange?void 0:table.options.onSortingChange(updater);table.resetSorting=defaultState=>{var _table$initialState$s,_table$initialState;table.setSorting(defaultState?[]:null!=(_table$initialState$s=null==(_table$initialState=table.initialState)?void 0:_table$initialState.sorting)?_table$initialState$s:[])};table.getPreSortedRowModel=()=>table.getGroupedRowModel();table.getSortedRowModel=()=>{!table._getSortedRowModel&&table.options.getSortedRowModel&&(table._getSortedRowModel=table.options.getSortedRowModel(table));return table.options.manualSorting||!table._getSortedRowModel?table.getPreSortedRowModel():table._getSortedRowModel()}}},builtInFeatures=[Headers,ColumnVisibility,ColumnOrdering,ColumnPinning,ColumnFaceting,ColumnFiltering,GlobalFaceting,GlobalFiltering,RowSorting,ColumnGrouping,RowExpanding,RowPagination,RowPinning,RowSelection,ColumnSizing];function createTable(options){var _options$_features,_options$initialState;const _features=[...builtInFeatures,...null!=(_options$_features=options._features)?_options$_features:[]];let table={_features:_features};const defaultOptions=table._features.reduce((obj,feature)=>Object.assign(obj,null==feature.getDefaultOptions?void 0:feature.getDefaultOptions(table)),{}),mergeOptions=options2=>table.options.mergeOptions?table.options.mergeOptions(defaultOptions,options2):{...defaultOptions,...options2},coreInitialState={};let initialState={...coreInitialState,...null!=(_options$initialState=options.initialState)?_options$initialState:{}};table._features.forEach(feature=>{var _feature$getInitialSt;initialState=null!=(_feature$getInitialSt=null==feature.getInitialState?void 0:feature.getInitialState(initialState))?_feature$getInitialSt:initialState});const queued=[];let queuedTimeout=!1;const coreInstance={_features:_features,options:{...defaultOptions,...options},initialState:initialState,_queue:cb=>{queued.push(cb);if(!queuedTimeout){queuedTimeout=!0;Promise.resolve().then(()=>{for(;queued.length;)queued.shift()();queuedTimeout=!1}).catch(error=>setTimeout(()=>{throw error}))}},reset:()=>{table.setState(table.initialState)},setOptions:updater=>{const newOptions=functionalUpdate(updater,table.options);table.options=mergeOptions(newOptions)},getState:()=>table.options.state,setState:updater=>{null==table.options.onStateChange||table.options.onStateChange(updater)},_getRowId:(row,index,parent)=>{var _table$options$getRow;return null!=(_table$options$getRow=null==table.options.getRowId?void 0:table.options.getRowId(row,index,parent))?_table$options$getRow:`${parent?[parent.id,index].join("."):index}`},getCoreRowModel:()=>{table._getCoreRowModel||(table._getCoreRowModel=table.options.getCoreRowModel(table));return table._getCoreRowModel()},getRowModel:()=>table.getPaginationRowModel(),getRow:(id,searchAll)=>{let row=(searchAll?table.getPrePaginationRowModel():table.getRowModel()).rowsById[id];if(!row){row=table.getCoreRowModel().rowsById[id];if(!row)throw new Error}return row},_getDefaultColumnDef:memo(()=>[table.options.defaultColumn],defaultColumn=>{var _defaultColumn;defaultColumn=null!=(_defaultColumn=defaultColumn)?_defaultColumn:{};return{header:props=>{const resolvedColumnDef=props.header.column.columnDef;return resolvedColumnDef.accessorKey?resolvedColumnDef.accessorKey:resolvedColumnDef.accessorFn?resolvedColumnDef.id:null},cell:props=>{var _props$renderValue$to,_props$renderValue;return null!=(_props$renderValue$to=null==(_props$renderValue=props.renderValue())||null==_props$renderValue.toString?void 0:_props$renderValue.toString())?_props$renderValue$to:null},...table._features.reduce((obj,feature)=>Object.assign(obj,null==feature.getDefaultColumnDef?void 0:feature.getDefaultColumnDef()),{}),...defaultColumn}},getMemoOptions(options,"debugColumns")),_getColumnDefs:()=>table.options.columns,getAllColumns:memo(()=>[table._getColumnDefs()],columnDefs=>{const recurseColumns=function(columnDefs2,parent,depth){void 0===depth&&(depth=0);return columnDefs2.map(columnDef=>{const column=createColumn(table,columnDef,depth,parent),groupingColumnDef=columnDef;column.columns=groupingColumnDef.columns?recurseColumns(groupingColumnDef.columns,column,depth+1):[];return column})};return recurseColumns(columnDefs)},getMemoOptions(options,"debugColumns")),getAllFlatColumns:memo(()=>[table.getAllColumns()],allColumns=>allColumns.flatMap(column=>column.getFlatColumns()),getMemoOptions(options,"debugColumns")),_getAllFlatColumnsById:memo(()=>[table.getAllFlatColumns()],flatColumns=>flatColumns.reduce((acc,column)=>{acc[column.id]=column;return acc},{}),getMemoOptions(options,"debugColumns")),getAllLeafColumns:memo(()=>[table.getAllColumns(),table._getOrderColumnsFn()],(allColumns,orderColumns2)=>{let leafColumns=allColumns.flatMap(column=>column.getLeafColumns());return orderColumns2(leafColumns)},getMemoOptions(options,"debugColumns")),getColumn:columnId=>{const column=table._getAllFlatColumnsById()[columnId];return column}};Object.assign(table,coreInstance);for(let index=0;index<table._features.length;index++){const feature=table._features[index];null==feature||null==feature.createTable||feature.createTable(table)}return table}function getCoreRowModel(){return table=>memo(()=>[table.options.data],data=>{const rowModel={rows:[],flatRows:[],rowsById:{}},accessRows=function(originalRows,depth,parentRow){void 0===depth&&(depth=0);const rows=[];for(let i=0;i<originalRows.length;i++){const row=createRow(table,table._getRowId(originalRows[i],i,parentRow),originalRows[i],i,depth,void 0,null==parentRow?void 0:parentRow.id);rowModel.flatRows.push(row);rowModel.rowsById[row.id]=row;rows.push(row);if(table.options.getSubRows){var _row$originalSubRows;row.originalSubRows=table.options.getSubRows(originalRows[i],i);null!=(_row$originalSubRows=row.originalSubRows)&&_row$originalSubRows.length&&(row.subRows=accessRows(row.originalSubRows,depth+1,row))}}return rows};rowModel.rows=accessRows(data);return rowModel},getMemoOptions(table.options,"debugTable","getRowModel",()=>table._autoResetPageIndex()))}function getExpandedRowModel(){return table=>memo(()=>[table.getState().expanded,table.getPreExpandedRowModel(),table.options.paginateExpandedRows],(expanded,rowModel,paginateExpandedRows)=>!rowModel.rows.length||!0!==expanded&&!Object.keys(null!=expanded?expanded:{}).length?rowModel:paginateExpandedRows?expandRows(rowModel):rowModel,getMemoOptions(table.options,"debugTable"))}function expandRows(rowModel){const expandedRows=[],handleRow=row=>{var _row$subRows;expandedRows.push(row);null!=(_row$subRows=row.subRows)&&_row$subRows.length&&row.getIsExpanded()&&row.subRows.forEach(handleRow)};rowModel.rows.forEach(handleRow);return{rows:expandedRows,flatRows:rowModel.flatRows,rowsById:rowModel.rowsById}}function filterRows(rows,filterRowImpl,table){return table.options.filterFromLeafRows?filterRowModelFromLeafs(rows,filterRowImpl,table):filterRowModelFromRoot(rows,filterRowImpl,table)}function filterRowModelFromLeafs(rowsToFilter,filterRow,table){var _table$options$maxLea;const newFilteredFlatRows=[],newFilteredRowsById={},maxDepth=null!=(_table$options$maxLea=table.options.maxLeafRowFilterDepth)?_table$options$maxLea:100,recurseFilterRows=function(rowsToFilter2,depth){void 0===depth&&(depth=0);const rows=[];for(let i=0;i<rowsToFilter2.length;i++){var _row$subRows;let row=rowsToFilter2[i];const newRow=createRow(table,row.id,row.original,row.index,row.depth,void 0,row.parentId);newRow.columnFilters=row.columnFilters;if(null!=(_row$subRows=row.subRows)&&_row$subRows.length&&depth<maxDepth){newRow.subRows=recurseFilterRows(row.subRows,depth+1);row=newRow;if(filterRow(row)&&!newRow.subRows.length){rows.push(row);newFilteredRowsById[row.id]=row;newFilteredFlatRows.push(row);continue}if(filterRow(row)||newRow.subRows.length){rows.push(row);newFilteredRowsById[row.id]=row;newFilteredFlatRows.push(row);continue}}else{row=newRow;if(filterRow(row)){rows.push(row);newFilteredRowsById[row.id]=row;newFilteredFlatRows.push(row)}}}return rows};return{rows:recurseFilterRows(rowsToFilter),flatRows:newFilteredFlatRows,rowsById:newFilteredRowsById}}function filterRowModelFromRoot(rowsToFilter,filterRow,table){var _table$options$maxLea2;const newFilteredFlatRows=[],newFilteredRowsById={},maxDepth=null!=(_table$options$maxLea2=table.options.maxLeafRowFilterDepth)?_table$options$maxLea2:100,recurseFilterRows=function(rowsToFilter2,depth){void 0===depth&&(depth=0);const rows=[];for(let i=0;i<rowsToFilter2.length;i++){let row=rowsToFilter2[i];const pass=filterRow(row);if(pass){var _row$subRows2;if(null!=(_row$subRows2=row.subRows)&&_row$subRows2.length&&depth<maxDepth){const newRow=createRow(table,row.id,row.original,row.index,row.depth,void 0,row.parentId);newRow.subRows=recurseFilterRows(row.subRows,depth+1);row=newRow}rows.push(row);newFilteredFlatRows.push(row);newFilteredRowsById[row.id]=row}}return rows};return{rows:recurseFilterRows(rowsToFilter),flatRows:newFilteredFlatRows,rowsById:newFilteredRowsById}}function getFilteredRowModel(){return table=>memo(()=>[table.getPreFilteredRowModel(),table.getState().columnFilters,table.getState().globalFilter],(rowModel,columnFilters,globalFilter)=>{if(!rowModel.rows.length||(null==columnFilters||!columnFilters.length)&&!globalFilter){for(let i=0;i<rowModel.flatRows.length;i++){rowModel.flatRows[i].columnFilters={};rowModel.flatRows[i].columnFiltersMeta={}}return rowModel}const resolvedColumnFilters=[],resolvedGlobalFilters=[];(null!=columnFilters?columnFilters:[]).forEach(d=>{var _filterFn$resolveFilt;const column=table.getColumn(d.id);if(!column)return;const filterFn=column.getFilterFn();filterFn&&resolvedColumnFilters.push({id:d.id,filterFn:filterFn,resolvedValue:null!=(_filterFn$resolveFilt=null==filterFn.resolveFilterValue?void 0:filterFn.resolveFilterValue(d.value))?_filterFn$resolveFilt:d.value})});const filterableIds=(null!=columnFilters?columnFilters:[]).map(d=>d.id),globalFilterFn=table.getGlobalFilterFn(),globallyFilterableColumns=table.getAllLeafColumns().filter(column=>column.getCanGlobalFilter());if(globalFilter&&globalFilterFn&&globallyFilterableColumns.length){filterableIds.push("__global__");globallyFilterableColumns.forEach(column=>{var _globalFilterFn$resol;resolvedGlobalFilters.push({id:column.id,filterFn:globalFilterFn,resolvedValue:null!=(_globalFilterFn$resol=null==globalFilterFn.resolveFilterValue?void 0:globalFilterFn.resolveFilterValue(globalFilter))?_globalFilterFn$resol:globalFilter})})}let currentColumnFilter,currentGlobalFilter;for(let j=0;j<rowModel.flatRows.length;j++){const row=rowModel.flatRows[j];row.columnFilters={};if(resolvedColumnFilters.length)for(let i=0;i<resolvedColumnFilters.length;i++){currentColumnFilter=resolvedColumnFilters[i];const id=currentColumnFilter.id;row.columnFilters[id]=currentColumnFilter.filterFn(row,id,currentColumnFilter.resolvedValue,filterMeta=>{row.columnFiltersMeta[id]=filterMeta})}if(resolvedGlobalFilters.length){for(let i=0;i<resolvedGlobalFilters.length;i++){currentGlobalFilter=resolvedGlobalFilters[i];const id=currentGlobalFilter.id;if(currentGlobalFilter.filterFn(row,id,currentGlobalFilter.resolvedValue,filterMeta=>{row.columnFiltersMeta[id]=filterMeta})){row.columnFilters.__global__=!0;break}}!0!==row.columnFilters.__global__&&(row.columnFilters.__global__=!1)}}const filterRowsImpl=row=>{for(let i=0;i<filterableIds.length;i++)if(!1===row.columnFilters[filterableIds[i]])return!1;return!0};return filterRows(rowModel.rows,filterRowsImpl,table)},getMemoOptions(table.options,"debugTable","getFilteredRowModel",()=>table._autoResetPageIndex()))}function getSortedRowModel(){return table=>memo(()=>[table.getState().sorting,table.getPreSortedRowModel()],(sorting,rowModel)=>{if(!rowModel.rows.length||null==sorting||!sorting.length)return rowModel;const sortingState=table.getState().sorting,sortedFlatRows=[],availableSorting=sortingState.filter(sort=>{var _table$getColumn;return null==(_table$getColumn=table.getColumn(sort.id))?void 0:_table$getColumn.getCanSort()}),columnInfoById={};availableSorting.forEach(sortEntry=>{const column=table.getColumn(sortEntry.id);column&&(columnInfoById[sortEntry.id]={sortUndefined:column.columnDef.sortUndefined,invertSorting:column.columnDef.invertSorting,sortingFn:column.getSortingFn()})});const sortData=rows=>{const sortedData=rows.map(row=>({...row}));sortedData.sort((rowA,rowB)=>{for(let i=0;i<availableSorting.length;i+=1){var _sortEntry$desc;const sortEntry=availableSorting[i],columnInfo=columnInfoById[sortEntry.id],sortUndefined=columnInfo.sortUndefined,isDesc=null!=(_sortEntry$desc=null==sortEntry?void 0:sortEntry.desc)&&_sortEntry$desc;let sortInt=0;if(sortUndefined){const aValue=rowA.getValue(sortEntry.id),bValue=rowB.getValue(sortEntry.id),aUndefined=void 0===aValue,bUndefined=void 0===bValue;if(aUndefined||bUndefined){if("first"===sortUndefined)return aUndefined?-1:1;if("last"===sortUndefined)return aUndefined?1:-1;sortInt=aUndefined&&bUndefined?0:aUndefined?sortUndefined:-sortUndefined}}0===sortInt&&(sortInt=columnInfo.sortingFn(rowA,rowB,sortEntry.id));if(0!==sortInt){isDesc&&(sortInt*=-1);columnInfo.invertSorting&&(sortInt*=-1);return sortInt}}return rowA.index-rowB.index});sortedData.forEach(row=>{var _row$subRows;sortedFlatRows.push(row);null!=(_row$subRows=row.subRows)&&_row$subRows.length&&(row.subRows=sortData(row.subRows))});return sortedData};return{rows:sortData(rowModel.rows),flatRows:sortedFlatRows,rowsById:rowModel.rowsById}},getMemoOptions(table.options,"debugTable","getSortedRowModel",()=>table._autoResetPageIndex()))}
/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function flexRender(Comp,props){return Comp?isReactComponent(Comp)?reactExports.createElement(Comp,props):Comp:null}function isReactComponent(component){return isClassComponent(component)||"function"==typeof component||isExoticComponent(component)}function isClassComponent(component){return"function"==typeof component&&(()=>{const proto=Object.getPrototypeOf(component);return proto.prototype&&proto.prototype.isReactComponent})()}function isExoticComponent(component){return"object"==typeof component&&"symbol"==typeof component.$$typeof&&["react.memo","react.forward_ref"].includes(component.$$typeof.description)}function useReactTable(options){const resolvedOptions={state:{},onStateChange:()=>{},renderFallbackValue:null,...options},[tableRef]=reactExports.useState(()=>({current:createTable(resolvedOptions)})),[state,setState]=reactExports.useState(()=>tableRef.current.initialState);tableRef.current.setOptions(prev=>({...prev,...options,state:{...state,...options.state},onStateChange:updater=>{setState(updater);null==options.onStateChange||options.onStateChange(updater)}}));return tableRef.current}const DynamicTrialBalanceTable=({data:data,loading:loading,Caption:Caption})=>{var _a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k;const parentRef=reactExports.useRef(null),footerRef=reactExports.useRef(null),headerRefs=reactExports.useRef([]),[sorting,setSorting]=reactExports.useState([]),[columnFilters,setColumnFilters]=reactExports.useState([]),[expanded,setExpanded]=reactExports.useState({}),[tableHeight,setTableHeight]=reactExports.useState("550px"),[loader,setLoader]=reactExports.useState(loading),theme=useSelector(state=>state.root.theme),location=useLocation(),navigate=useNavigate(),{state:{decryptedData:{CPrintName:CPrintName="",CompCode:CompCode="",FinYear:FinYear=""}={}}}=useAuthContext(),{submitHandler:submitHandler}=useApiHandler(),{RepID:RepID,formattedData:formattedData}=(null==(_a=null==location?void 0:location.state)?void 0:_a.navigateData)||{};console.log("Current theme:",theme);console.log("Table data:",null==data?void 0:data.RptBody);const hasAction=(null==data?void 0:data.Action)&&"object"==typeof data.Action&&"ViewType"in data.Action&&"RepID"in data.Action&&null!=data.Action.ViewType&&null!=data.Action.RepID,isBranchReport=reactExports.useMemo(()=>{var _a2;return(null==(_a2=null==data?void 0:data.RptBody)?void 0:_a2.some(item=>4===item.Data.length&&(!item.SubData||0===item.SubData.length)))||!1},[null==data?void 0:data.RptBody]),parseDate=dateStr=>{if(!dateStr)return null;const parts=dateStr.split(/[-\/]/).map(Number);if(3!==parts.length)return null;const[day,month,year]=parts;return day&&month&&year?new Date(year,month-1,day):null},isVchBillNo=value=>{if("string"!=typeof value)return!1;const regex=/^[A-Za-z\/\-]+[0-9A-Za-z]*$/;return regex.test(value)},universalFilterComparator=(filterValue,cellValue)=>{if(!filterValue||null==cellValue)return!1;const strFilter=filterValue.toLowerCase(),strValue=String(cellValue).toLowerCase();if(isVchBillNo(cellValue)){const regex=/^([A-Za-z\/\-]*?)(\d*[A-Za-z0-9]*)$/,match=strValue.match(regex)||["","",""],prefix=match[1].toLowerCase(),number=match[2].toLowerCase();return strValue.includes(strFilter)||prefix.includes(strFilter)||number.includes(strFilter)}const date=parseDate(strValue);if(date){const formattedDate=`${date.getDate().toString().padStart(2,"0")}-${(date.getMonth()+1).toString().padStart(2,"0")}-${date.getFullYear()}`;return formattedDate.includes(strFilter)}const num=parseFloat(strValue);return isNaN(num),strValue.includes(strFilter)},universalComparator=(a,b)=>{if(null==a&&null==b)return 0;if(null==a)return-1;if(null==b)return 1;if(isVchBillNo(a)&&isVchBillNo(b)){const strA=String(a),strB=String(b),regex=/^([A-Za-z\/\-]*?)(\d*[A-Za-z0-9]*)$/,matchA=strA.match(regex)||["","","0"],matchB=strB.match(regex)||["","","0"],prefixA=matchA[1],prefixB=matchB[1],numA2=parseInt(matchA[2]||"0",10),numB2=parseInt(matchB[2]||"0",10);return prefixA<prefixB?-1:prefixA>prefixB?1:numA2-numB2}const dateA="string"==typeof a?parseDate(a):null,dateB="string"==typeof b?parseDate(b):null;if(dateA&&dateB)return dateA.getTime()-dateB.getTime();if(dateA)return-1;if(dateB)return 1;const numA="number"==typeof a?a:parseFloat(String(a)),numB="number"==typeof b?b:parseFloat(String(b));return isNaN(numA)||isNaN(numB)?String(a).localeCompare(String(b),void 0,{sensitivity:"base",numeric:!0}):numA-numB},handleViewDrillDown=async(repIdCode,viewType,masterId)=>{console.log("Form submitted:",formattedData);console.log("JSON (url)",`Report/GetDrillDownData?SourceRepID=${RepID}&RepId=${repIdCode}&ViewType=${viewType}&ViewType=${viewType}&MasterID=${masterId}&CompCode=${CompCode}&FY=${FinYear}`);try{await submitHandler({url:`Report/GetDrillDownData?SourceRepID=${RepID}&RepId=${repIdCode}&ViewType=${viewType}&MasterID=${masterId}&CompCode=${CompCode}&FY=${FinYear}`,method:"POST",data:formattedData,setLoading:setLoader,onSuccess:data2=>{console.log("data(drill report)",data2);const navigateData={...data2,RepID:RepID,Caption:Caption};isBranchReport||1===viewType?navigate(`/RepList/${repIdCode}`,{state:{navigateData:navigateData}}):2===viewType&&navigate("/V-10001",{state:{navigateData:navigateData}})},onError:error=>console.error("Error saving form:",error)})}catch(error){console.error("Error submitting form:",error)}},normalizeHeader=header=>header.replace(/[^\w]/g,"_"),filteredHeaders=(null==(_b=null==data?void 0:data.RptBodyHead)?void 0:_b.slice(1))||[],filteredColAlignInfo=(null==(_d=null==(_c=null==data?void 0:data.RptLayOut)?void 0:_c.RptColAlignInfo)?void 0:_d.slice(1).map(align=>["left","center","right","justify","fill","centerContinuous","distributed"].includes(align)?align:"left"))||[],filteredColWidthInfo=(null==(_f=null==(_e=null==data?void 0:data.RptLayOut)?void 0:_e.RptColWidthInfo)?void 0:_f.slice(1))||[],CHAR_WIDTH=(null==(_g=null==data?void 0:data.RptBodyHead)?void 0:_g.length)>7?10:15,MAX_WIDTH=(null==(_h=null==data?void 0:data.RptBodyHead)?void 0:_h.length)>7?350:400,columns=reactExports.useMemo(()=>{const dataColumns=filteredHeaders.map((header,index)=>({id:normalizeHeader(header),accessorFn:row=>row.Data[index+1]||"",header:()=>header,cell:info=>{const row=info.row,value=info.getValue();if(0===index){const hasSubRows=row.getCanExpand();return jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[hasSubRows&&jsxRuntimeExports.jsx("button",{onClick:row.getToggleExpandedHandler(),style:{border:"none",background:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0,width:"20px",height:"20px",fontSize:"16px",color:"dark_mode"===theme?"#ffffff":"#000000"},"aria-label":row.getIsExpanded()?"Collapse row":"Expand row",children:row.getIsExpanded()?jsxRuntimeExports.jsx(FiMinus,{}):jsxRuntimeExports.jsx(FiPlus,{})}),jsxRuntimeExports.jsx("span",{style:{color:"dark_mode"===theme?"#ffffff":"#000000",padding:"0 4px"},children:String(value)})]})}return jsxRuntimeExports.jsx("span",{style:{color:row.depth>0?"dark_mode"===theme?"#a0a0ff":"#00008B":"dark_mode"===theme?"#ffffff":"#000000",fontWeight:row.depth>0?"bold":"normal"},children:value})},enableSorting:!0,enableColumnFilter:!0,filterFn:(row,columnId,filterValue)=>universalFilterComparator(filterValue,row.getValue(columnId)),sortingFn:(rowA,rowB,columnId)=>universalComparator(rowA.getValue(columnId),rowB.getValue(columnId)),meta:{align:filteredColAlignInfo[index]||"left",width:Math.min((filteredColWidthInfo[index]||15)*CHAR_WIDTH,MAX_WIDTH)}}));hasAction&&dataColumns.push({id:"action",header:()=>"View",accessorFn:()=>"",enableSorting:!1,enableColumnFilter:!1,cell:info=>{var _a2;const row=info.row;if(row.original.isPinned)return null;const firstDataElement=row.original.Data[0];if(!firstDataElement||""===String(firstDataElement).trim())return null;const originalRowData=row.original.Data,fullRowData={};null==(_a2=null==data?void 0:data.RptBodyHead)||_a2.forEach((header,i)=>{fullRowData[normalizeHeader(header)]=originalRowData[i]||""});const firstKey=Object.keys(fullRowData)[0];return jsxRuntimeExports.jsx(FaEye,{style:{cursor:"pointer",color:"dark_mode"===theme?"#ffffff":"#000000"},className:"cursor-pointer",onClick:()=>{var _a3,_b2,_c2;console.log("Full row data (onClick)",fullRowData);if(null==(_a3=data.Action)?void 0:_a3.ViewType){const code=fullRowData[firstKey];handleViewDrillDown((null==(_b2=null==data?void 0:data.Action)?void 0:_b2.RepID)??"",null==(_c2=null==data?void 0:data.Action)?void 0:_c2.ViewType,Number(code))}}})},filterFn:()=>!0,sortingFn:()=>0,meta:{align:"center",width:100}});return dataColumns},[data,theme,filteredHeaders,filteredColAlignInfo,filteredColWidthInfo,hasAction]),rowData=reactExports.useMemo(()=>{var _a2;return(null==(_a2=null==data?void 0:data.RptBody)?void 0:_a2.map((row,index)=>({...row,id:index,isPinned:!1})))||[]},[null==data?void 0:data.RptBody]),pinnedBottomRowData=reactExports.useMemo(()=>{var _a2;return(null==(_a2=null==data?void 0:data.RptBodyFooter)?void 0:_a2.length)?[{Data:data.RptBodyFooter,isPinned:!0,id:"footer"}]:[]},[null==data?void 0:data.RptBodyFooter]),tableData=reactExports.useMemo(()=>[...rowData,...pinnedBottomRowData],[rowData,pinnedBottomRowData]),reportHeaders=(null==data?void 0:data.ReportHeader)?Object.keys(data.ReportHeader).filter(key=>"RptName"!==key&&key.startsWith("Header")).sort((a,b)=>parseInt(a.replace("Header",""),10)-parseInt(b.replace("Header",""),10)).map(key=>data.ReportHeader[key]):[],headerPairs=[];for(let i=0;i<reportHeaders.length;i+=2){const left=reportHeaders[i]||"",right=reportHeaders[i+1]||"";(left||right)&&headerPairs.push({left:left,right:right})}const leftHeaders=headerPairs.map(pair=>pair.left).filter(header=>header),rightHeaders=headerPairs.map(pair=>pair.right).filter(header=>header);reactExports.useEffect(()=>{const calculateTableHeight=()=>{var _a2;const windowHeight=window.innerHeight,windowWidth=window.innerWidth,headerHeight=100,footerHeight=(null==(_a2=null==data?void 0:data.Footer)?void 0:_a2.length)>0?40:0,bottomSpace=50,minHeight=400,tabletMinWidth=768,tabletMaxWidth=1024;let calculatedHeight;if(windowWidth>=1200)calculatedHeight=windowHeight-headerHeight-footerHeight-bottomSpace;else if(windowWidth>=tabletMinWidth&&windowWidth<=tabletMaxWidth){const tabletAdjustment=windowWidth<900?150:100;calculatedHeight=windowHeight-headerHeight-footerHeight-tabletAdjustment}else calculatedHeight=windowHeight-headerHeight-footerHeight-100;setTableHeight(`${Math.max(calculatedHeight,minHeight)}px`)};calculateTableHeight();window.addEventListener("resize",calculateTableHeight);window.addEventListener("orientationchange",calculateTableHeight);return()=>{window.removeEventListener("resize",calculateTableHeight);window.removeEventListener("orientationchange",calculateTableHeight)}},[null==data?void 0:data.Footer]);reactExports.useLayoutEffect(()=>{if(!footerRef.current)return;const footerCells=Array.from(footerRef.current.children);headerRefs.current.forEach((headerEl,i)=>{if(headerEl&&footerCells[i]){const width=headerEl.getBoundingClientRect().width,cell=footerCells[i];cell.style.width=`${width}px`;cell.style.minWidth=`${width}px`;cell.style.maxWidth=`${width}px`}})},[null==data?void 0:data.RptBodyHead,tableData]);const table=useReactTable({data:tableData,columns:columns,state:{sorting:sorting,columnFilters:columnFilters,expanded:expanded},onSortingChange:setSorting,onColumnFiltersChange:setColumnFilters,onExpandedChange:setExpanded,getCoreRowModel:getCoreRowModel(),getSortedRowModel:getSortedRowModel(),getFilteredRowModel:getFilteredRowModel(),getExpandedRowModel:getExpandedRowModel(),getSubRows:row=>(null==row?void 0:row.SubData)??[]});return jsxRuntimeExports.jsxs(Wrapper,{header:CPrintName,subHeader:(null==(_i=null==data?void 0:data.ReportHeader)?void 0:_i.RptName)??"",backButtonName:"Back",children:[loader&&jsxRuntimeExports.jsx(CenteredLoader,{}),jsxRuntimeExports.jsxs("div",{className:"d-flex justify-content-between m-0",children:[jsxRuntimeExports.jsx("div",{className:"d-flex flex-column align-items-start",children:leftHeaders.map((header,index)=>jsxRuntimeExports.jsx("p",{className:"fw-bolder m-0",children:header},`left-${index}`))}),jsxRuntimeExports.jsx("div",{className:"d-flex flex-column align-items-end",children:rightHeaders.map((header,index)=>jsxRuntimeExports.jsx("p",{className:"fw-bolder m-0",children:header},`right-${index}`))})]}),jsxRuntimeExports.jsx("div",{className:"d-flex justify-content-end mb-3",children:null==(_j=null==data?void 0:data.Header)?void 0:_j.map((header,index)=>jsxRuntimeExports.jsx("p",{className:"fw-bolder",children:header},index))}),loading?jsxRuntimeExports.jsx("div",{children:"Loading..."}):jsxRuntimeExports.jsx("div",{className:"trial-container","data-theme":theme,children:jsxRuntimeExports.jsx("div",{className:"trial-scroll-container",ref:parentRef,style:{height:tableHeight,overflowX:"auto",overflowY:"auto"},children:jsxRuntimeExports.jsxs("table",{className:"trial-table",style:{minWidth:`${filteredColWidthInfo.reduce((sum2,width)=>sum2+Math.min((width||15)*CHAR_WIDTH,MAX_WIDTH),0)+(hasAction?100:0)}px`},children:[jsxRuntimeExports.jsx("thead",{children:table.getHeaderGroups().map(headerGroup=>jsxRuntimeExports.jsx("tr",{children:headerGroup.headers.map((header,idx)=>{const meta=header.column.columnDef.meta,width=(null==meta?void 0:meta.width)||("action"===header.id?100:void 0);return jsxRuntimeExports.jsx("th",{ref:el=>{headerRefs.current[idx]=el},style:{textAlign:(()=>{switch(null==meta?void 0:meta.align){case"left":case"center":case"right":case"justify":return meta.align;default:return"left"}})(),width:width,minWidth:width,maxWidth:width},children:flexRender(header.column.columnDef.header,header.getContext())},header.id)})},headerGroup.id))}),jsxRuntimeExports.jsx("tbody",{children:table.getRowModel().rows.filter(row=>!row.original.isPinned).map(row=>jsxRuntimeExports.jsx("tr",{"aria-expanded":row.getIsExpanded(),children:row.getVisibleCells().map(cell=>{const meta=cell.column.columnDef.meta,width=(null==meta?void 0:meta.width)||("action"===cell.column.id?100:void 0),getTextAlign=alignValue=>{switch(alignValue){case"left":case"center":case"right":case"justify":return alignValue;default:return"left"}};return jsxRuntimeExports.jsx("td",{style:{textAlign:getTextAlign(null==meta?void 0:meta.align),paddingLeft:20*row.depth+"px",width:width,minWidth:width,maxWidth:width},children:flexRender(cell.column.columnDef.cell,cell.getContext())},cell.id)})},row.id))}),jsxRuntimeExports.jsx("tfoot",{children:table.getRowModel().rows.filter(row=>row.original.isPinned).map(row=>jsxRuntimeExports.jsx("tr",{ref:footerRef,className:"trial-footer-fixed",children:row.getVisibleCells().map(cell=>{const meta=cell.column.columnDef.meta,width=(null==meta?void 0:meta.width)||("action"===cell.column.id?100:void 0),getTextAlign=alignValue=>{switch(alignValue){case"left":case"center":case"right":case"justify":return alignValue;default:return"left"}};return jsxRuntimeExports.jsx("td",{style:{textAlign:getTextAlign(null==meta?void 0:meta.align),width:width,minWidth:width,maxWidth:width},children:flexRender(cell.column.columnDef.cell,cell.getContext())},cell.id)})},row.id))})]})})}),jsxRuntimeExports.jsx("div",{className:"d-flex justify-content-end mt-3",children:null==(_k=null==data?void 0:data.Footer)?void 0:_k.map((footer,index)=>jsxRuntimeExports.jsx("p",{className:"fw-bolder",children:footer},index))})]})},DynamicTable=()=>{var _a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m;const location=useLocation(),navigate=useNavigate(),{decryptedData:decryptedData}=useSelector(state=>state.authData),{CPrintName:CPrintName,CAddress1:CAddress1,CAddress2:CAddress2,CAddress3:CAddress3,CAddress4:CAddress4,CompCode:CompCode,FinYear:FinYear,ExportR:ExportR}=decryptedData||{},{submitHandler:submitHandler}=useApiHandler(),{Caption:Caption,Data:Data,formattedData:formattedData,RepID:RepID}=(null==(_a=null==location?void 0:location.state)?void 0:_a.navigateData)||{},[tableHeight,setTableHeight]=reactExports.useState("550px"),tableData=Data||{ReportHeader:{RptName:""},RptLayOut:{RptColAlignInfo:[],RptColWidthInfo:[]},RptBodyHead:[],RepOpt:[],RptBody:[],RptBodyFooter:[],Header:[],Action:{},Footer:[]},hasAction=(null==tableData?void 0:tableData.Action)&&"object"==typeof tableData.Action&&"ViewType"in tableData.Action&&"RepID"in tableData.Action&&null!=tableData.Action.ViewType&&null!=tableData.Action.RepID,parseDate=dateStr=>{if(!dateStr)return null;const parts=dateStr.split(/[-\/]/).map(Number);if(3!==parts.length)return null;const[day,month,year]=parts;return day&&month&&year?new Date(year,month-1,day):null},isVchBillNo=value=>{if("string"!=typeof value)return!1;const regex=/^[A-Za-z\/\-]+[0-9A-Za-z]*$/;return regex.test(value)};console.log("RepId",RepID);const universalFilterComparator=(filterValue,cellValue)=>{if(!filterValue||null==cellValue)return!1;const strFilter=filterValue.toLowerCase(),strValue=String(cellValue).toLowerCase();if(isVchBillNo(cellValue)){const regex=/^([A-Za-z\/\-]*?)(\d*[A-Za-z0-9]*)$/,match=strValue.match(regex)||["","",""],prefix=match[1].toLowerCase(),number=match[2].toLowerCase();return strValue.includes(strFilter)||prefix.includes(strFilter)||number.includes(strFilter)}const date=parseDate(strValue);if(date){const formattedDate=`${date.getDate().toString().padStart(2,"0")}-${(date.getMonth()+1).toString().padStart(2,"0")}-${date.getFullYear()}`;return formattedDate.includes(strFilter)}const num=parseFloat(strValue);return isNaN(num),strValue.includes(strFilter)},universalComparator=(a,b)=>{if(null==a&&null==b)return 0;if(null==a)return-1;if(null==b)return 1;if(isVchBillNo(a)&&isVchBillNo(b)){const strA=String(a),strB=String(b),regex=/^([A-Za-z\/\-]*?)(\d*[A-Za-z0-9]*)$/,matchA=strA.match(regex)||["","","0"],matchB=strB.match(regex)||["","","0"],prefixA=matchA[1],prefixB=matchB[1],numA2=parseInt(matchA[2]||"0",10),numB2=parseInt(matchB[2]||"0",10);return prefixA<prefixB?-1:prefixA>prefixB?1:numA2-numB2}const dateA="string"==typeof a?parseDate(a):null,dateB="string"==typeof b?parseDate(b):null;if(dateA&&dateB)return dateA.getTime()-dateB.getTime();if(dateA)return-1;if(dateB)return 1;const numA="number"==typeof a?a:parseFloat(String(a)),numB="number"==typeof b?b:parseFloat(String(b));return isNaN(numA)||isNaN(numB)?String(a).localeCompare(String(b),void 0,{sensitivity:"base",numeric:!0}):numA-numB},normalizeHeader=header=>header.replace(/[^\w]/g,"_"),filteredHeaders=(null==(_b=null==tableData?void 0:tableData.RptBodyHead)?void 0:_b.slice(1))||[],validAlignments=["left","center","right","justify","fill","centerContinuous","distributed"],validateAlignment=align=>validAlignments.includes(align)?align:"left",filteredColAlignInfo=(null==(_d=null==(_c=null==tableData?void 0:tableData.RptLayOut)?void 0:_c.RptColAlignInfo)?void 0:_d.slice(1).map(validateAlignment))||[],filteredColWidthInfo=(null==(_f=null==(_e=null==tableData?void 0:tableData.RptLayOut)?void 0:_e.RptColWidthInfo)?void 0:_f.slice(1))||[],CHAR_WIDTH=(null==(_g=null==tableData?void 0:tableData.RptBodyHead)?void 0:_g.length)>7?10:15,MAX_WIDTH=(null==(_h=null==tableData?void 0:tableData.RptBodyHead)?void 0:_h.length)>7?350:400,columnDefs=[...(null==filteredHeaders?void 0:filteredHeaders.map((header,index)=>{const charCount=filteredColWidthInfo[index]||15,calculatedWidth=Math.min(charCount*CHAR_WIDTH,MAX_WIDTH);return{headerName:header,field:normalizeHeader(header),sortable:!0,filter:"agTextColumnFilter",resizable:!0,width:calculatedWidth,cellStyle:{textAlign:filteredColAlignInfo[index]||"left",whiteSpace:"normal"},comparator:universalComparator,filterParams:{filterOptions:["contains","startsWith","endsWith"],textCustomComparator:universalFilterComparator,caseSensitive:!1}}}))||[],...hasAction?[{headerName:"View",field:"action",sortable:!1,filter:!1,width:70,cellStyle:{textAlign:"center"},pinned:"left",cellRenderer:params=>{var _a2,_b2;const{data:data,node:node}=params;if(node.rowPinned)return null;const rowIndex=data.id,originalRowData=(null==(_a2=null==tableData?void 0:tableData.RptBody)?void 0:_a2[rowIndex])||{},rowDataArray=originalRowData.Data||[],fy=originalRowData.FY;if(!rowDataArray[0])return null;const fullRowData={};null==(_b2=null==tableData?void 0:tableData.RptBodyHead)||_b2.forEach((header,i)=>{fullRowData[normalizeHeader(header)]=rowDataArray[i]||""});const firstKey=Object.keys(fullRowData)[0];return jsxRuntimeExports.jsx(FaEye,{style:{cursor:"pointer"},className:"cursor-pointer",onClick:()=>{var _a3,_b3,_c2;if(null==(_a3=tableData.Action)?void 0:_a3.ViewType){const code=fullRowData[firstKey];handleViewDrillDown((null==(_b3=null==tableData?void 0:tableData.Action)?void 0:_b3.RepID)??"",null==(_c2=null==tableData?void 0:tableData.Action)?void 0:_c2.ViewType,Number(code),fy,null==tableData?void 0:tableData.RepOpt)}}})}}]:[]],handleViewDrillDown=async(repIdCode,viewType,masterId,fy,newFormattedData)=>{let jsonData=void 0===formattedData?newFormattedData:formattedData;try{await submitHandler({url:`Report/GetDrillDownData?SourceRepID=${RepID}&RepId=${repIdCode}&ViewType=${viewType}&MasterID=${masterId}&CompCode=${CompCode}&FY=${fy||FinYear}`,method:"POST",data:jsonData,setLoading:value=>{console.log("loading",value)},onSuccess:data=>{console.log("data(drill report)",data);if(1===viewType){const navigateData={...data,RepID:RepID,Caption:Caption};navigate(`/RepList/${repIdCode}`,{state:{navigateData:navigateData}})}else if(2===viewType){const navigateData={...data,RepID:RepID,Caption:Caption};navigate("/V-10001",{state:{navigateData:navigateData}})}},onError:error=>{console.error("Error saving form:",error)}})}catch(error){console.error("Error submitting form:",error)}},rowData=(null==(_i=null==tableData?void 0:tableData.RptBody)?void 0:_i.map((row,index)=>{var _a2;const rowObj={};null==(_a2=null==tableData?void 0:tableData.RptBodyHead)||_a2.slice(1).forEach((header,i)=>{rowObj[normalizeHeader(header)]=row.Data[i+1]||""});hasAction&&(rowObj.action="");return{id:index,...rowObj}}))||[],pinnedBottomRowData=[null==(_j=null==tableData?void 0:tableData.RptBodyFooter)?void 0:_j.slice(1).reduce((rowObj,value,i)=>{const header=null==tableData?void 0:tableData.RptBodyHead[i+1];header&&(rowObj[normalizeHeader(header)]=value||"");return rowObj},{})].filter(Boolean),reportHeaders=(null==tableData?void 0:tableData.ReportHeader)?Object.keys(tableData.ReportHeader).filter(key=>"RptName"!==key&&key.startsWith("Header")).sort((a,b)=>{const numA=parseInt(a.replace("Header",""),10),numB=parseInt(b.replace("Header",""),10);return numA-numB}).map(key=>tableData.ReportHeader[key]):[],headerPairs=[];for(let i=0;i<reportHeaders.length;i+=2){const left=reportHeaders[i]||"",right=reportHeaders[i+1]||"";(left||right)&&headerPairs.push({left:left,right:right})}const leftHeaders=headerPairs.map(pair=>pair.left).filter(header=>header),rightHeaders=headerPairs.map(pair=>pair.right).filter(header=>header);reactExports.useEffect(()=>{const calculateTableHeight=()=>{var _a2;const windowHeight=window.innerHeight,windowWidth=window.innerWidth,headerHeight=100,footerHeight=(null==(_a2=null==tableData?void 0:tableData.Footer)?void 0:_a2.length)>0?50:10,bottomSpace=50,minHeight=400,tabletMinWidth=768,tabletMaxWidth=1024;let calculatedHeight;if(windowWidth>=1200)calculatedHeight=windowHeight-headerHeight-footerHeight-bottomSpace;else if(windowWidth>=tabletMinWidth&&windowWidth<=tabletMaxWidth){const tabletAdjustment=windowWidth<900?150:100;calculatedHeight=windowHeight-headerHeight-footerHeight-tabletAdjustment}else calculatedHeight=windowHeight-headerHeight-footerHeight-100;setTableHeight(`${Math.max(calculatedHeight,minHeight)}px`)};calculateTableHeight();window.addEventListener("resize",calculateTableHeight);window.addEventListener("orientationchange",calculateTableHeight);return()=>{window.removeEventListener("resize",calculateTableHeight);window.removeEventListener("orientationchange",calculateTableHeight)}},[]);const shouldRenderTrialBalanceTable=rptBody=>rptBody.some(item=>item.Data&&Array.isArray(item.Data)&&item.SubData&&Array.isArray(item.SubData)&&0===item.SubData.length);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:shouldRenderTrialBalanceTable((null==tableData?void 0:tableData.RptBody)||[])?jsxRuntimeExports.jsx(DynamicTrialBalanceTable,{data:tableData,loading:!1,Caption:Caption}):jsxRuntimeExports.jsxs(Wrapper,{header:CPrintName,subHeader:(null==(_k=null==tableData?void 0:tableData.ReportHeader)?void 0:_k.RptName)??"",backButtonName:"Back",ExportR:ExportR,children:[jsxRuntimeExports.jsxs("div",{className:"d-flex justify-content-between m-0",children:[jsxRuntimeExports.jsx("div",{className:"d-flex flex-column align-items-start",children:leftHeaders.map((header,index)=>jsxRuntimeExports.jsx("p",{className:"fw-bolder m-0",children:header},`left-${index}`))}),jsxRuntimeExports.jsx("div",{className:"d-flex flex-column align-items-end",children:rightHeaders.map((header,index)=>jsxRuntimeExports.jsx("p",{className:"fw-bolder m-0",children:header},`right-${index}`))})]}),jsxRuntimeExports.jsx("div",{className:"d-flex justify-content-end mb-3",children:null==(_l=null==tableData?void 0:tableData.Header)?void 0:_l.map((header,index)=>jsxRuntimeExports.jsx("p",{className:"fw-bolder",children:header},index))}),"R-10077"!==RepID&&"R-10078"!==RepID?jsxRuntimeExports.jsx(GridTable,{rowData:rowData,columnDefs:columnDefs,enableEditing:!1,enableSelection:!1,pinnedBottomRowData:pinnedBottomRowData,reportHeader:null==tableData?void 0:tableData.ReportHeader,leftHeaders:leftHeaders,rightHeaders:rightHeaders,headerData:null==tableData?void 0:tableData.Header,footerData:null==tableData?void 0:tableData.Footer,Caption:Caption,RptColWidthInfo:filteredColWidthInfo,RptColAlignInfo:filteredColAlignInfo,CPrintName:CPrintName,CAddress1:CAddress1,CAddress2:CAddress2,CAddress3:CAddress3,CAddress4:CAddress4,height:tableHeight}):jsxRuntimeExports.jsx(StockReportTable,{columnDefs:filteredHeaders,data:tableData,reportHeader:null==tableData?void 0:tableData.ReportHeader,leftHeaders:leftHeaders,rightHeaders:rightHeaders,headerData:null==tableData?void 0:tableData.Header,footerData:null==tableData?void 0:tableData.Footer,Caption:Caption,RptColWidthInfo:filteredColWidthInfo,RptColAlignInfo:filteredColAlignInfo,CPrintName:CPrintName,CAddress1:CAddress1,CAddress2:CAddress2,CAddress3:CAddress3,CAddress4:CAddress4,height:tableHeight}),jsxRuntimeExports.jsx("div",{className:"d-flex justify-content-end mt-3",children:null==(_m=null==tableData?void 0:tableData.Footer)?void 0:_m.map((footer,index)=>jsxRuntimeExports.jsx("p",{className:"fw-bolder",children:footer},index))})]})})};export{DynamicTable as default};
//# sourceMappingURL=dynamictable-CcC92FAz.js.map
