function _mergeNamespaces(n,m){for(var i=0;i<m.length;i++){const e=m[i];if("string"!=typeof e&&!Array.isArray(e))for(const k in e)if("default"!==k&&!(k in n)){const d=Object.getOwnPropertyDescriptor(e,k);d&&Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:()=>e[k]})}}return Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(x){return x&&x.__esModule&&Object.prototype.hasOwnProperty.call(x,"default")?x.default:x}function getAugmentedNamespace(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var f=n.default;if("function"==typeof f){var a=function a2(){return this instanceof a2?Reflect.construct(f,arguments,this.constructor):f.apply(this,arguments)};a.prototype=f.prototype}else a={};Object.defineProperty(a,"__esModule",{value:!0});Object.keys(n).forEach(function(k){var d=Object.getOwnPropertyDescriptor(n,k);Object.defineProperty(a,k,d.get?d:{enumerable:!0,get:function(){return n[k]}})});return a}var react={exports:{}},react_production={},hasRequiredReact_production,hasRequiredReact;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler"),REACT_CONSUMER_TYPE=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),REACT_ACTIVITY_TYPE=Symbol.for("react.activity"),MAYBE_ITERATOR_SYMBOL=Symbol.iterator;function getIteratorFn(maybeIterable){if(null===maybeIterable||"object"!=typeof maybeIterable)return null;maybeIterable=MAYBE_ITERATOR_SYMBOL&&maybeIterable[MAYBE_ITERATOR_SYMBOL]||maybeIterable["@@iterator"];return"function"==typeof maybeIterable?maybeIterable:null}var ReactNoopUpdateQueue={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},assign=Object.assign,emptyObject={};function Component(props,context,updater){this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue}Component.prototype.isReactComponent={};Component.prototype.setState=function(partialState,callback){if("object"!=typeof partialState&&"function"!=typeof partialState&&null!=partialState)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,partialState,callback,"setState")};Component.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this,callback,"forceUpdate")};function ComponentDummy(){}ComponentDummy.prototype=Component.prototype;function PureComponent(props,context,updater){this.props=props;this.context=context;this.refs=emptyObject;this.updater=updater||ReactNoopUpdateQueue}var pureComponentPrototype=PureComponent.prototype=new ComponentDummy;pureComponentPrototype.constructor=PureComponent;assign(pureComponentPrototype,Component.prototype);pureComponentPrototype.isPureReactComponent=!0;var isArrayImpl=Array.isArray;function noop(){}var ReactSharedInternals={H:null,A:null,T:null,S:null},hasOwnProperty=Object.prototype.hasOwnProperty;function ReactElement(type,key,props){var refProp=props.ref;return{$$typeof:REACT_ELEMENT_TYPE,type:type,key:key,ref:void 0!==refProp?refProp:null,props:props}}function cloneAndReplaceKey(oldElement,newKey){return ReactElement(oldElement.type,newKey,oldElement.props)}function isValidElement(object){return"object"==typeof object&&null!==object&&object.$$typeof===REACT_ELEMENT_TYPE}function escape(key){var escaperLookup={"=":"=0",":":"=2"};return"$"+key.replace(/[=:]/g,function(match){return escaperLookup[match]})}var userProvidedKeyEscapeRegex=/\/+/g;function getElementKey(element,index){return"object"==typeof element&&null!==element&&null!=element.key?escape(""+element.key):index.toString(36)}function resolveThenable(thenable){switch(thenable.status){case"fulfilled":return thenable.value;case"rejected":throw thenable.reason;default:switch("string"==typeof thenable.status?thenable.then(noop,noop):(thenable.status="pending",thenable.then(function(fulfilledValue){"pending"===thenable.status&&(thenable.status="fulfilled",thenable.value=fulfilledValue)},function(error){"pending"===thenable.status&&(thenable.status="rejected",thenable.reason=error)})),thenable.status){case"fulfilled":return thenable.value;case"rejected":throw thenable.reason}}throw thenable}function mapIntoArray(children,array,escapedPrefix,nameSoFar,callback){var type=typeof children;"undefined"!==type&&"boolean"!==type||(children=null);var invokeCallback=!1;if(null===children)invokeCallback=!0;else switch(type){case"bigint":case"string":case"number":invokeCallback=!0;break;case"object":switch(children.$$typeof){case REACT_ELEMENT_TYPE:case REACT_PORTAL_TYPE:invokeCallback=!0;break;case REACT_LAZY_TYPE:return invokeCallback=children._init,mapIntoArray(invokeCallback(children._payload),array,escapedPrefix,nameSoFar,callback)}}if(invokeCallback)return callback=callback(children),invokeCallback=""===nameSoFar?"."+getElementKey(children,0):nameSoFar,isArrayImpl(callback)?(escapedPrefix="",null!=invokeCallback&&(escapedPrefix=invokeCallback.replace(userProvidedKeyEscapeRegex,"$&/")+"/"),mapIntoArray(callback,array,escapedPrefix,"",function(c){return c})):null!=callback&&(isValidElement(callback)&&(callback=cloneAndReplaceKey(callback,escapedPrefix+(null==callback.key||children&&children.key===callback.key?"":(""+callback.key).replace(userProvidedKeyEscapeRegex,"$&/")+"/")+invokeCallback)),array.push(callback)),1;invokeCallback=0;var nextNamePrefix=""===nameSoFar?".":nameSoFar+":";if(isArrayImpl(children))for(var i=0;i<children.length;i++)nameSoFar=children[i],type=nextNamePrefix+getElementKey(nameSoFar,i),invokeCallback+=mapIntoArray(nameSoFar,array,escapedPrefix,type,callback);else if(i=getIteratorFn(children),"function"==typeof i)for(children=i.call(children),i=0;!(nameSoFar=children.next()).done;)nameSoFar=nameSoFar.value,type=nextNamePrefix+getElementKey(nameSoFar,i++),invokeCallback+=mapIntoArray(nameSoFar,array,escapedPrefix,type,callback);else if("object"===type){if("function"==typeof children.then)return mapIntoArray(resolveThenable(children),array,escapedPrefix,nameSoFar,callback);array=String(children);throw Error("Objects are not valid as a React child (found: "+("[object Object]"===array?"object with keys {"+Object.keys(children).join(", ")+"}":array)+"). If you meant to render a collection of children, use an array instead.")}return invokeCallback}function mapChildren(children,func,context){if(null==children)return children;var result=[],count=0;mapIntoArray(children,result,"","",function(child){return func.call(context,child,count++)});return result}function lazyInitializer(payload){if(-1===payload._status){var ctor=payload._result;ctor=ctor();ctor.then(function(moduleObject){0!==payload._status&&-1!==payload._status||(payload._status=1,payload._result=moduleObject)},function(error){0!==payload._status&&-1!==payload._status||(payload._status=2,payload._result=error)});-1===payload._status&&(payload._status=0,payload._result=ctor)}if(1===payload._status)return payload._result.default;throw payload._result}var reportGlobalError="function"==typeof reportError?reportError:function(error){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var event=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof error&&null!==error&&"string"==typeof error.message?String(error.message):String(error),error:error});if(!window.dispatchEvent(event))return}else if("object"==typeof process&&"function"==typeof process.emit){process.emit("uncaughtException",error);return}console.error(error)},Children={map:mapChildren,forEach:function(children,forEachFunc,forEachContext){mapChildren(children,function(){forEachFunc.apply(this,arguments)},forEachContext)},count:function(children){var n=0;mapChildren(children,function(){n++});return n},toArray:function(children){return mapChildren(children,function(child){return child})||[]},only:function(children){if(!isValidElement(children))throw Error("React.Children.only expected to receive a single React element child.");return children}};react_production.Activity=REACT_ACTIVITY_TYPE;react_production.Children=Children;react_production.Component=Component;react_production.Fragment=REACT_FRAGMENT_TYPE;react_production.Profiler=REACT_PROFILER_TYPE;react_production.PureComponent=PureComponent;react_production.StrictMode=REACT_STRICT_MODE_TYPE;react_production.Suspense=REACT_SUSPENSE_TYPE;react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ReactSharedInternals;react_production.__COMPILER_RUNTIME={__proto__:null,c:function(size){return ReactSharedInternals.H.useMemoCache(size)}};react_production.cache=function(fn){return function(){return fn.apply(null,arguments)}};react_production.cacheSignal=function(){return null};react_production.cloneElement=function(element,config,children){if(null==element)throw Error("The argument must be a React element, but you passed "+element+".");var props=assign({},element.props),key=element.key;if(null!=config)for(propName in void 0!==config.key&&(key=""+config.key),config)!hasOwnProperty.call(config,propName)||"key"===propName||"__self"===propName||"__source"===propName||"ref"===propName&&void 0===config.ref||(props[propName]=config[propName]);var propName=arguments.length-2;if(1===propName)props.children=children;else if(1<propName){for(var childArray=Array(propName),i=0;i<propName;i++)childArray[i]=arguments[i+2];props.children=childArray}return ReactElement(element.type,key,props)};react_production.createContext=function(defaultValue){defaultValue={$$typeof:REACT_CONTEXT_TYPE,_currentValue:defaultValue,_currentValue2:defaultValue,_threadCount:0,Provider:null,Consumer:null};defaultValue.Provider=defaultValue;defaultValue.Consumer={$$typeof:REACT_CONSUMER_TYPE,_context:defaultValue};return defaultValue};react_production.createElement=function(type,config,children){var propName,props={},key=null;if(null!=config)for(propName in void 0!==config.key&&(key=""+config.key),config)hasOwnProperty.call(config,propName)&&"key"!==propName&&"__self"!==propName&&"__source"!==propName&&(props[propName]=config[propName]);var childrenLength=arguments.length-2;if(1===childrenLength)props.children=children;else if(1<childrenLength){for(var childArray=Array(childrenLength),i=0;i<childrenLength;i++)childArray[i]=arguments[i+2];props.children=childArray}if(type&&type.defaultProps)for(propName in childrenLength=type.defaultProps,childrenLength)void 0===props[propName]&&(props[propName]=childrenLength[propName]);return ReactElement(type,key,props)};react_production.createRef=function(){return{current:null}};react_production.forwardRef=function(render){return{$$typeof:REACT_FORWARD_REF_TYPE,render:render}};react_production.isValidElement=isValidElement;react_production.lazy=function(ctor){return{$$typeof:REACT_LAZY_TYPE,_payload:{_status:-1,_result:ctor},_init:lazyInitializer}};react_production.memo=function(type,compare){return{$$typeof:REACT_MEMO_TYPE,type:type,compare:void 0===compare?null:compare}};react_production.startTransition=function(scope){var prevTransition=ReactSharedInternals.T,currentTransition={};ReactSharedInternals.T=currentTransition;try{var returnValue=scope(),onStartTransitionFinish=ReactSharedInternals.S;null!==onStartTransitionFinish&&onStartTransitionFinish(currentTransition,returnValue);"object"==typeof returnValue&&null!==returnValue&&"function"==typeof returnValue.then&&returnValue.then(noop,reportGlobalError)}catch(error){reportGlobalError(error)}finally{null!==prevTransition&&null!==currentTransition.types&&(prevTransition.types=currentTransition.types),ReactSharedInternals.T=prevTransition}};react_production.unstable_useCacheRefresh=function(){return ReactSharedInternals.H.useCacheRefresh()};react_production.use=function(usable){return ReactSharedInternals.H.use(usable)};react_production.useActionState=function(action,initialState,permalink){return ReactSharedInternals.H.useActionState(action,initialState,permalink)};react_production.useCallback=function(callback,deps){return ReactSharedInternals.H.useCallback(callback,deps)};react_production.useContext=function(Context){return ReactSharedInternals.H.useContext(Context)};react_production.useDebugValue=function(){};react_production.useDeferredValue=function(value,initialValue){return ReactSharedInternals.H.useDeferredValue(value,initialValue)};react_production.useEffect=function(create,deps){return ReactSharedInternals.H.useEffect(create,deps)};react_production.useEffectEvent=function(callback){return ReactSharedInternals.H.useEffectEvent(callback)};react_production.useId=function(){return ReactSharedInternals.H.useId()};react_production.useImperativeHandle=function(ref,create,deps){return ReactSharedInternals.H.useImperativeHandle(ref,create,deps)};react_production.useInsertionEffect=function(create,deps){return ReactSharedInternals.H.useInsertionEffect(create,deps)};react_production.useLayoutEffect=function(create,deps){return ReactSharedInternals.H.useLayoutEffect(create,deps)};react_production.useMemo=function(create,deps){return ReactSharedInternals.H.useMemo(create,deps)};react_production.useOptimistic=function(passthrough,reducer){return ReactSharedInternals.H.useOptimistic(passthrough,reducer)};react_production.useReducer=function(reducer,initialArg,init){return ReactSharedInternals.H.useReducer(reducer,initialArg,init)};react_production.useRef=function(initialValue){return ReactSharedInternals.H.useRef(initialValue)};react_production.useState=function(initialState){return ReactSharedInternals.H.useState(initialState)};react_production.useSyncExternalStore=function(subscribe,getSnapshot,getServerSnapshot){return ReactSharedInternals.H.useSyncExternalStore(subscribe,getSnapshot,getServerSnapshot)};react_production.useTransition=function(){return ReactSharedInternals.H.useTransition()};react_production.version="19.2.0";return react_production}function requireReact(){if(hasRequiredReact)return react.exports;hasRequiredReact=1;react.exports=requireReact_production();return react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var isCheckBoxInput=element=>"checkbox"===element.type,isDateObject=value=>value instanceof Date,isNullOrUndefined=value=>null==value;const isObjectType=value=>"object"==typeof value;var isObject=value=>!isNullOrUndefined(value)&&!Array.isArray(value)&&isObjectType(value)&&!isDateObject(value),getEventValue=event=>isObject(event)&&event.target?isCheckBoxInput(event.target)?event.target.checked:event.target.value:event,getNodeParentName=name=>name.substring(0,name.search(/\.\d+(\.|$)/))||name,isNameInFieldArray=(names,name)=>names.has(getNodeParentName(name)),isPlainObject=tempObject=>{const prototypeCopy=tempObject.constructor&&tempObject.constructor.prototype;return isObject(prototypeCopy)&&prototypeCopy.hasOwnProperty("isPrototypeOf")},isWeb="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function cloneObject(data){let copy;const isArray=Array.isArray(data),isFileListInstance="undefined"!=typeof FileList&&data instanceof FileList;if(data instanceof Date)copy=new Date(data);else{if(isWeb&&(data instanceof Blob||isFileListInstance)||!isArray&&!isObject(data))return data;copy=isArray?[]:Object.create(Object.getPrototypeOf(data));if(isArray||isPlainObject(data))for(const key in data)data.hasOwnProperty(key)&&(copy[key]=cloneObject(data[key]));else copy=data}return copy}var isKey=value=>/^\w*$/.test(value),isUndefined=val=>void 0===val,compact=value=>Array.isArray(value)?value.filter(Boolean):[],stringToPath=input=>compact(input.replace(/["|']|\]/g,"").split(/\.|\[/)),get=(object,path,defaultValue)=>{if(!path||!isObject(object))return defaultValue;const result=(isKey(path)?[path]:stringToPath(path)).reduce((result2,key)=>isNullOrUndefined(result2)?result2:result2[key],object);return isUndefined(result)||result===object?isUndefined(object[path])?defaultValue:object[path]:result},isBoolean=value=>"boolean"==typeof value,set=(object,path,value)=>{let index=-1;const tempPath=isKey(path)?[path]:stringToPath(path),length=tempPath.length,lastIndex=length-1;for(;++index<length;){const key=tempPath[index];let newValue=value;if(index!==lastIndex){const objValue=object[key];newValue=isObject(objValue)||Array.isArray(objValue)?objValue:isNaN(+tempPath[index+1])?{}:[]}if("__proto__"===key||"constructor"===key||"prototype"===key)return;object[key]=newValue;object=object[key]}};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React.createContext(null);HookFormContext.displayName="HookFormContext";const useFormContext=()=>React.useContext(HookFormContext),FormProvider=props=>{const{children:children,...data}=props;return React.createElement(HookFormContext.Provider,{value:data},children)};var getProxyFormState=(formState,control,localProxyFormState,isRoot=!0)=>{const result={defaultValues:control._defaultValues};for(const key in formState)Object.defineProperty(result,key,{get:()=>{const _key=key;control._proxyFormState[_key]!==VALIDATION_MODE.all&&(control._proxyFormState[_key]=!isRoot||VALIDATION_MODE.all);localProxyFormState&&(localProxyFormState[_key]=!0);return formState[_key]}});return result};const useIsomorphicLayoutEffect="undefined"!=typeof window?React.useLayoutEffect:React.useEffect;function useFormState(props){const methods=useFormContext(),{control:control=methods.control,disabled:disabled,name:name,exact:exact}=props||{},[formState,updateFormState]=React.useState(control._formState),_localProxyFormState=React.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});useIsomorphicLayoutEffect(()=>control._subscribe({name:name,formState:_localProxyFormState.current,exact:exact,callback:formState2=>{!disabled&&updateFormState({...control._formState,...formState2})}}),[name,disabled,exact]);React.useEffect(()=>{_localProxyFormState.current.isValid&&control._setValid(!0)},[control]);return React.useMemo(()=>getProxyFormState(formState,control,_localProxyFormState.current,!1),[formState,control])}var isString=value=>"string"==typeof value,generateWatchOutput=(names,_names,formValues,isGlobal,defaultValue)=>{if(isString(names)){isGlobal&&_names.watch.add(names);return get(formValues,names,defaultValue)}if(Array.isArray(names))return names.map(fieldName=>(isGlobal&&_names.watch.add(fieldName),get(formValues,fieldName)));isGlobal&&(_names.watchAll=!0);return formValues},isPrimitive=value=>isNullOrUndefined(value)||!isObjectType(value);function deepEqual(object1,object2,_internal_visited=new WeakSet){if(isPrimitive(object1)||isPrimitive(object2))return Object.is(object1,object2);if(isDateObject(object1)&&isDateObject(object2))return object1.getTime()===object2.getTime();const keys1=Object.keys(object1),keys2=Object.keys(object2);if(keys1.length!==keys2.length)return!1;if(_internal_visited.has(object1)||_internal_visited.has(object2))return!0;_internal_visited.add(object1);_internal_visited.add(object2);for(const key of keys1){const val1=object1[key];if(!keys2.includes(key))return!1;if("ref"!==key){const val2=object2[key];if(isDateObject(val1)&&isDateObject(val2)||isObject(val1)&&isObject(val2)||Array.isArray(val1)&&Array.isArray(val2)?!deepEqual(val1,val2,_internal_visited):!Object.is(val1,val2))return!1}}return!0}function useWatch(props){const methods=useFormContext(),{control:control=methods.control,name:name,defaultValue:defaultValue,disabled:disabled,exact:exact,compute:compute}=props||{},_defaultValue=React.useRef(defaultValue),_compute=React.useRef(compute),_computeFormValues=React.useRef(void 0),_prevControl=React.useRef(control),_prevName=React.useRef(name);_compute.current=compute;const[value,updateValue]=React.useState(()=>{const defaultValue2=control._getWatch(name,_defaultValue.current);return _compute.current?_compute.current(defaultValue2):defaultValue2}),getCurrentOutput=React.useCallback(values=>{const formValues=generateWatchOutput(name,control._names,values||control._formValues,!1,_defaultValue.current);return _compute.current?_compute.current(formValues):formValues},[control._formValues,control._names,name]),refreshValue=React.useCallback(values=>{if(!disabled){const formValues=generateWatchOutput(name,control._names,values||control._formValues,!1,_defaultValue.current);if(_compute.current){const computedFormValues=_compute.current(formValues);if(!deepEqual(computedFormValues,_computeFormValues.current)){updateValue(computedFormValues);_computeFormValues.current=computedFormValues}}else updateValue(formValues)}},[control._formValues,control._names,disabled,name]);useIsomorphicLayoutEffect(()=>{if(_prevControl.current!==control||!deepEqual(_prevName.current,name)){_prevControl.current=control;_prevName.current=name;refreshValue()}return control._subscribe({name:name,formState:{values:!0},exact:exact,callback:formState=>{refreshValue(formState.values)}})},[control,exact,name,refreshValue]);React.useEffect(()=>control._removeUnmounted());const controlChanged=_prevControl.current!==control,prevName=_prevName.current,computedOutput=React.useMemo(()=>{if(disabled)return null;const nameChanged=!controlChanged&&!deepEqual(prevName,name),shouldReturnImmediate=controlChanged||nameChanged;return shouldReturnImmediate?getCurrentOutput():null},[disabled,controlChanged,name,prevName,getCurrentOutput]);return null!==computedOutput?computedOutput:value}function useController(props){const methods=useFormContext(),{name:name,disabled:disabled,control:control=methods.control,shouldUnregister:shouldUnregister,defaultValue:defaultValue}=props,isArrayField=isNameInFieldArray(control._names.array,name),defaultValueMemo=React.useMemo(()=>get(control._formValues,name,get(control._defaultValues,name,defaultValue)),[control,name,defaultValue]),value=useWatch({control:control,name:name,defaultValue:defaultValueMemo,exact:!0}),formState=useFormState({control:control,name:name,exact:!0}),_props=React.useRef(props),_previousNameRef=React.useRef(void 0),_registerProps=React.useRef(control.register(name,{...props.rules,value:value,...isBoolean(props.disabled)?{disabled:props.disabled}:{}}));_props.current=props;const fieldState=React.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get(formState.errors,name)},isDirty:{enumerable:!0,get:()=>!!get(formState.dirtyFields,name)},isTouched:{enumerable:!0,get:()=>!!get(formState.touchedFields,name)},isValidating:{enumerable:!0,get:()=>!!get(formState.validatingFields,name)},error:{enumerable:!0,get:()=>get(formState.errors,name)}}),[formState,name]),onChange=React.useCallback(event=>_registerProps.current.onChange({target:{value:getEventValue(event),name:name},type:EVENTS.CHANGE}),[name]),onBlur=React.useCallback(()=>_registerProps.current.onBlur({target:{value:get(control._formValues,name),name:name},type:EVENTS.BLUR}),[name,control._formValues]),ref=React.useCallback(elm=>{const field2=get(control._fields,name);field2&&elm&&(field2._f.ref={focus:()=>elm.focus&&elm.focus(),select:()=>elm.select&&elm.select(),setCustomValidity:message=>elm.setCustomValidity(message),reportValidity:()=>elm.reportValidity()})},[control._fields,name]),field=React.useMemo(()=>({name:name,value:value,...isBoolean(disabled)||formState.disabled?{disabled:formState.disabled||disabled}:{},onChange:onChange,onBlur:onBlur,ref:ref}),[name,disabled,formState.disabled,onChange,onBlur,ref,value]);React.useEffect(()=>{const _shouldUnregisterField=control._options.shouldUnregister||shouldUnregister,previousName=_previousNameRef.current;previousName&&previousName!==name&&!isArrayField&&control.unregister(previousName);control.register(name,{..._props.current.rules,...isBoolean(_props.current.disabled)?{disabled:_props.current.disabled}:{}});const updateMounted=(name2,value2)=>{const field2=get(control._fields,name2);field2&&field2._f&&(field2._f.mount=value2)};updateMounted(name,!0);if(_shouldUnregisterField){const value2=cloneObject(get(control._options.defaultValues,name,_props.current.defaultValue));set(control._defaultValues,name,value2);isUndefined(get(control._formValues,name))&&set(control._formValues,name,value2)}!isArrayField&&control.register(name);_previousNameRef.current=name;return()=>{(isArrayField?_shouldUnregisterField&&!control._state.action:_shouldUnregisterField)?control.unregister(name):updateMounted(name,!1)}},[name,control,isArrayField,shouldUnregister]);React.useEffect(()=>{control._setDisabledField({disabled:disabled,name:name})},[disabled,name,control]);return React.useMemo(()=>({field:field,formState:formState,fieldState:fieldState}),[field,formState,fieldState])}const Controller=props=>props.render(useController(props));var appendErrors=(name,validateAllFieldCriteria,errors,type,message)=>validateAllFieldCriteria?{...errors[name],types:{...errors[name]&&errors[name].types?errors[name].types:{},[type]:message||!0}}:{},convertToArrayPayload=value=>Array.isArray(value)?value:[value],createSubject=()=>{let _observers=[];const next=value=>{for(const observer of _observers)observer.next&&observer.next(value)},subscribe=observer=>{_observers.push(observer);return{unsubscribe:()=>{_observers=_observers.filter(o=>o!==observer)}}},unsubscribe=()=>{_observers=[]};return{get observers(){return _observers},next:next,subscribe:subscribe,unsubscribe:unsubscribe}};function extractFormValues(fieldsState,formValues){const values={};for(const key in fieldsState)if(fieldsState.hasOwnProperty(key)){const fieldState=fieldsState[key],fieldValue=formValues[key];if(fieldState&&isObject(fieldState)&&fieldValue){const nestedFieldsState=extractFormValues(fieldState,fieldValue);isObject(nestedFieldsState)&&(values[key]=nestedFieldsState)}else fieldsState[key]&&(values[key]=fieldValue)}return values}var isEmptyObject=value=>isObject(value)&&!Object.keys(value).length,isFileInput=element=>"file"===element.type,isFunction=value=>"function"==typeof value,isHTMLElement=value=>{if(!isWeb)return!1;const owner=value?value.ownerDocument:0;return value instanceof(owner&&owner.defaultView?owner.defaultView.HTMLElement:HTMLElement)},isMultipleSelect=element=>"select-multiple"===element.type,isRadioInput=element=>"radio"===element.type,isRadioOrCheckbox=ref=>isRadioInput(ref)||isCheckBoxInput(ref),live=ref=>isHTMLElement(ref)&&ref.isConnected;function baseGet(object,updatePath){const length=updatePath.slice(0,-1).length;let index=0;for(;index<length;)object=isUndefined(object)?index++:object[updatePath[index++]];return object}function isEmptyArray(obj){for(const key in obj)if(obj.hasOwnProperty(key)&&!isUndefined(obj[key]))return!1;return!0}function unset(object,path){const paths=Array.isArray(path)?path:isKey(path)?[path]:stringToPath(path),childObject=1===paths.length?object:baseGet(object,paths),index=paths.length-1,key=paths[index];childObject&&delete childObject[key];0!==index&&(isObject(childObject)&&isEmptyObject(childObject)||Array.isArray(childObject)&&isEmptyArray(childObject))&&unset(object,paths.slice(0,-1));return object}var objectHasFunction=data=>{for(const key in data)if(isFunction(data[key]))return!0;return!1};function isTraversable(value){return Array.isArray(value)||isObject(value)&&!objectHasFunction(value)}function markFieldsDirty(data,fields={}){for(const key in data){const value=data[key];if(isTraversable(value)){fields[key]=Array.isArray(value)?[]:{};markFieldsDirty(value,fields[key])}else isUndefined(value)||(fields[key]=!0)}return fields}function getDirtyFields(data,formValues,dirtyFieldsFromValues){dirtyFieldsFromValues||(dirtyFieldsFromValues=markFieldsDirty(formValues));for(const key in data){const value=data[key];if(isTraversable(value))isUndefined(formValues)||isPrimitive(dirtyFieldsFromValues[key])?dirtyFieldsFromValues[key]=markFieldsDirty(value,Array.isArray(value)?[]:{}):getDirtyFields(value,isNullOrUndefined(formValues)?{}:formValues[key],dirtyFieldsFromValues[key]);else{const formValue=formValues[key];dirtyFieldsFromValues[key]=!deepEqual(value,formValue)}}return dirtyFieldsFromValues}const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=options=>{if(Array.isArray(options)){if(options.length>1){const values=options.filter(option=>option&&option.checked&&!option.disabled).map(option=>option.value);return{value:values,isValid:!!values.length}}return options[0].checked&&!options[0].disabled?options[0].attributes&&!isUndefined(options[0].attributes.value)?isUndefined(options[0].value)||""===options[0].value?validResult:{value:options[0].value,isValid:!0}:validResult:defaultResult}return defaultResult},getFieldValueAs=(value,{valueAsNumber:valueAsNumber,valueAsDate:valueAsDate,setValueAs:setValueAs})=>isUndefined(value)?value:valueAsNumber?""===value?NaN:value?+value:value:valueAsDate&&isString(value)?new Date(value):setValueAs?setValueAs(value):value;const defaultReturn={isValid:!1,value:null};var getRadioValue=options=>Array.isArray(options)?options.reduce((previous,option)=>option&&option.checked&&!option.disabled?{isValid:!0,value:option.value}:previous,defaultReturn):defaultReturn;function getFieldValue(_f){const ref=_f.ref;return isFileInput(ref)?ref.files:isRadioInput(ref)?getRadioValue(_f.refs).value:isMultipleSelect(ref)?[...ref.selectedOptions].map(({value:value})=>value):isCheckBoxInput(ref)?getCheckboxValue(_f.refs).value:getFieldValueAs(isUndefined(ref.value)?_f.ref.value:ref.value,_f)}var getResolverOptions=(fieldsNames,_fields,criteriaMode,shouldUseNativeValidation)=>{const fields={};for(const name of fieldsNames){const field=get(_fields,name);field&&set(fields,name,field._f)}return{criteriaMode:criteriaMode,names:[...fieldsNames],fields:fields,shouldUseNativeValidation:shouldUseNativeValidation}},isRegex=value=>value instanceof RegExp,getRuleValue=rule=>isUndefined(rule)?rule:isRegex(rule)?rule.source:isObject(rule)?isRegex(rule.value)?rule.value.source:rule.value:rule,getValidationModes=mode=>({isOnSubmit:!mode||mode===VALIDATION_MODE.onSubmit,isOnBlur:mode===VALIDATION_MODE.onBlur,isOnChange:mode===VALIDATION_MODE.onChange,isOnAll:mode===VALIDATION_MODE.all,isOnTouch:mode===VALIDATION_MODE.onTouched});const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=fieldReference=>!!fieldReference&&!!fieldReference.validate&&!!(isFunction(fieldReference.validate)&&fieldReference.validate.constructor.name===ASYNC_FUNCTION||isObject(fieldReference.validate)&&Object.values(fieldReference.validate).find(validateFunction=>validateFunction.constructor.name===ASYNC_FUNCTION)),hasValidation=options=>options.mount&&(options.required||options.min||options.max||options.maxLength||options.minLength||options.pattern||options.validate),isWatched=(name,_names,isBlurEvent)=>!isBlurEvent&&(_names.watchAll||_names.watch.has(name)||[..._names.watch].some(watchName=>name.startsWith(watchName)&&/^\.\w+/.test(name.slice(watchName.length))));const iterateFieldsByAction=(fields,action,fieldsNames,abortEarly)=>{for(const key of fieldsNames||Object.keys(fields)){const field=get(fields,key);if(field){const{_f:_f,...currentField}=field;if(_f){if(_f.refs&&_f.refs[0]&&action(_f.refs[0],key)&&!abortEarly)return!0;if(_f.ref&&action(_f.ref,_f.name)&&!abortEarly)return!0;if(iterateFieldsByAction(currentField,action))break}else if(isObject(currentField)&&iterateFieldsByAction(currentField,action))break}}};function schemaErrorLookup(errors,_fields,name){const error=get(errors,name);if(error||isKey(name))return{error:error,name:name};const names=name.split(".");for(;names.length;){const fieldName=names.join("."),field=get(_fields,fieldName),foundError=get(errors,fieldName);if(field&&!Array.isArray(field)&&name!==fieldName)return{name:name};if(foundError&&foundError.type)return{name:fieldName,error:foundError};if(foundError&&foundError.root&&foundError.root.type)return{name:`${fieldName}.root`,error:foundError.root};names.pop()}return{name:name}}var shouldRenderFormState=(formStateData,_proxyFormState,updateFormState,isRoot)=>{updateFormState(formStateData);const{name:name,...formState}=formStateData;return isEmptyObject(formState)||Object.keys(formState).length>=Object.keys(_proxyFormState).length||Object.keys(formState).find(key=>_proxyFormState[key]===(!isRoot||VALIDATION_MODE.all))},shouldSubscribeByName=(name,signalName,exact)=>!name||!signalName||name===signalName||convertToArrayPayload(name).some(currentName=>currentName&&(exact?currentName===signalName:currentName.startsWith(signalName)||signalName.startsWith(currentName))),skipValidation=(isBlurEvent,isTouched,isSubmitted,reValidateMode,mode)=>!mode.isOnAll&&(!isSubmitted&&mode.isOnTouch?!(isTouched||isBlurEvent):(isSubmitted?reValidateMode.isOnBlur:mode.isOnBlur)?!isBlurEvent:!(isSubmitted?reValidateMode.isOnChange:mode.isOnChange)||isBlurEvent),unsetEmptyArray=(ref,name)=>!compact(get(ref,name)).length&&unset(ref,name),updateFieldArrayRootError=(errors,error,name)=>{const fieldArrayErrors=convertToArrayPayload(get(errors,name));set(fieldArrayErrors,"root",error[name]);set(errors,name,fieldArrayErrors);return errors};function getValidateError(result,ref,type="validate"){if(isString(result)||Array.isArray(result)&&result.every(isString)||isBoolean(result)&&!result)return{type:type,message:isString(result)?result:"",ref:ref}}var getValueAndMessage=validationData=>isObject(validationData)&&!isRegex(validationData)?validationData:{value:validationData,message:""},validateField=async(field,disabledFieldNames,formValues,validateAllFieldCriteria,shouldUseNativeValidation,isFieldArray)=>{const{ref:ref,refs:refs,required:required,maxLength:maxLength,minLength:minLength,min:min,max:max,pattern:pattern,validate:validate,name:name,valueAsNumber:valueAsNumber,mount:mount}=field._f,inputValue=get(formValues,name);if(!mount||disabledFieldNames.has(name))return{};const inputRef=refs?refs[0]:ref,setCustomValidity=message=>{if(shouldUseNativeValidation&&inputRef.reportValidity){inputRef.setCustomValidity(isBoolean(message)?"":message||"");inputRef.reportValidity()}},error={},isRadio=isRadioInput(ref),isCheckBox=isCheckBoxInput(ref),isRadioOrCheckbox2=isRadio||isCheckBox,isEmpty=(valueAsNumber||isFileInput(ref))&&isUndefined(ref.value)&&isUndefined(inputValue)||isHTMLElement(ref)&&""===ref.value||""===inputValue||Array.isArray(inputValue)&&!inputValue.length,appendErrorsCurry=appendErrors.bind(null,name,validateAllFieldCriteria,error),getMinMaxMessage=(exceedMax,maxLengthMessage,minLengthMessage,maxType=INPUT_VALIDATION_RULES.maxLength,minType=INPUT_VALIDATION_RULES.minLength)=>{const message=exceedMax?maxLengthMessage:minLengthMessage;error[name]={type:exceedMax?maxType:minType,message:message,ref:ref,...appendErrorsCurry(exceedMax?maxType:minType,message)}};if(isFieldArray?!Array.isArray(inputValue)||!inputValue.length:required&&(!isRadioOrCheckbox2&&(isEmpty||isNullOrUndefined(inputValue))||isBoolean(inputValue)&&!inputValue||isCheckBox&&!getCheckboxValue(refs).isValid||isRadio&&!getRadioValue(refs).isValid)){const{value:value,message:message}=isString(required)?{value:!!required,message:required}:getValueAndMessage(required);if(value){error[name]={type:INPUT_VALIDATION_RULES.required,message:message,ref:inputRef,...appendErrorsCurry(INPUT_VALIDATION_RULES.required,message)};if(!validateAllFieldCriteria){setCustomValidity(message);return error}}}if(!(isEmpty||isNullOrUndefined(min)&&isNullOrUndefined(max))){let exceedMax,exceedMin;const maxOutput=getValueAndMessage(max),minOutput=getValueAndMessage(min);if(isNullOrUndefined(inputValue)||isNaN(inputValue)){const valueDate=ref.valueAsDate||new Date(inputValue),convertTimeToDate=time=>new Date((new Date).toDateString()+" "+time),isTime="time"==ref.type,isWeek="week"==ref.type;isString(maxOutput.value)&&inputValue&&(exceedMax=isTime?convertTimeToDate(inputValue)>convertTimeToDate(maxOutput.value):isWeek?inputValue>maxOutput.value:valueDate>new Date(maxOutput.value));isString(minOutput.value)&&inputValue&&(exceedMin=isTime?convertTimeToDate(inputValue)<convertTimeToDate(minOutput.value):isWeek?inputValue<minOutput.value:valueDate<new Date(minOutput.value))}else{const valueNumber=ref.valueAsNumber||(inputValue?+inputValue:inputValue);isNullOrUndefined(maxOutput.value)||(exceedMax=valueNumber>maxOutput.value);isNullOrUndefined(minOutput.value)||(exceedMin=valueNumber<minOutput.value)}if(exceedMax||exceedMin){getMinMaxMessage(!!exceedMax,maxOutput.message,minOutput.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min);if(!validateAllFieldCriteria){setCustomValidity(error[name].message);return error}}}if((maxLength||minLength)&&!isEmpty&&(isString(inputValue)||isFieldArray&&Array.isArray(inputValue))){const maxLengthOutput=getValueAndMessage(maxLength),minLengthOutput=getValueAndMessage(minLength),exceedMax=!isNullOrUndefined(maxLengthOutput.value)&&inputValue.length>+maxLengthOutput.value,exceedMin=!isNullOrUndefined(minLengthOutput.value)&&inputValue.length<+minLengthOutput.value;if(exceedMax||exceedMin){getMinMaxMessage(exceedMax,maxLengthOutput.message,minLengthOutput.message);if(!validateAllFieldCriteria){setCustomValidity(error[name].message);return error}}}if(pattern&&!isEmpty&&isString(inputValue)){const{value:patternValue,message:message}=getValueAndMessage(pattern);if(isRegex(patternValue)&&!inputValue.match(patternValue)){error[name]={type:INPUT_VALIDATION_RULES.pattern,message:message,ref:ref,...appendErrorsCurry(INPUT_VALIDATION_RULES.pattern,message)};if(!validateAllFieldCriteria){setCustomValidity(message);return error}}}if(validate)if(isFunction(validate)){const result=await validate(inputValue,formValues),validateError=getValidateError(result,inputRef);if(validateError){error[name]={...validateError,...appendErrorsCurry(INPUT_VALIDATION_RULES.validate,validateError.message)};if(!validateAllFieldCriteria){setCustomValidity(validateError.message);return error}}}else if(isObject(validate)){let validationResult={};for(const key in validate){if(!isEmptyObject(validationResult)&&!validateAllFieldCriteria)break;const validateError=getValidateError(await validate[key](inputValue,formValues),inputRef,key);if(validateError){validationResult={...validateError,...appendErrorsCurry(key,validateError.message)};setCustomValidity(validateError.message);validateAllFieldCriteria&&(error[name]=validationResult)}}if(!isEmptyObject(validationResult)){error[name]={ref:inputRef,...validationResult};if(!validateAllFieldCriteria)return error}}setCustomValidity(!0);return error};const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(props={}){let _options={...defaultOptions,...props},_formState={submitCount:0,isDirty:!1,isReady:!1,isLoading:isFunction(_options.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:_options.errors||{},disabled:_options.disabled||!1},_fields={},_defaultValues=(isObject(_options.defaultValues)||isObject(_options.values))&&cloneObject(_options.defaultValues||_options.values)||{},_formValues=_options.shouldUnregister?{}:cloneObject(_defaultValues),_state={action:!1,mount:!1,watch:!1},_names={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},delayErrorCallback,timer=0;const _proxyFormState={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _proxySubscribeFormState={..._proxyFormState};const _subjects={array:createSubject(),state:createSubject()},shouldDisplayAllAssociatedErrors=_options.criteriaMode===VALIDATION_MODE.all,debounce=callback=>wait=>{clearTimeout(timer);timer=setTimeout(callback,wait)},_setValid=async shouldUpdateValid=>{if(!_options.disabled&&(_proxyFormState.isValid||_proxySubscribeFormState.isValid||shouldUpdateValid)){const isValid=_options.resolver?isEmptyObject((await _runSchema()).errors):await executeBuiltInValidation(_fields,!0);isValid!==_formState.isValid&&_subjects.state.next({isValid:isValid})}},_updateIsValidating=(names,isValidating)=>{if(!_options.disabled&&(_proxyFormState.isValidating||_proxyFormState.validatingFields||_proxySubscribeFormState.isValidating||_proxySubscribeFormState.validatingFields)){(names||Array.from(_names.mount)).forEach(name=>{name&&(isValidating?set(_formState.validatingFields,name,isValidating):unset(_formState.validatingFields,name))});_subjects.state.next({validatingFields:_formState.validatingFields,isValidating:!isEmptyObject(_formState.validatingFields)})}},_setFieldArray=(name,values=[],method,args,shouldSetValues=!0,shouldUpdateFieldsAndState=!0)=>{if(args&&method&&!_options.disabled){_state.action=!0;if(shouldUpdateFieldsAndState&&Array.isArray(get(_fields,name))){const fieldValues=method(get(_fields,name),args.argA,args.argB);shouldSetValues&&set(_fields,name,fieldValues)}if(shouldUpdateFieldsAndState&&Array.isArray(get(_formState.errors,name))){const errors=method(get(_formState.errors,name),args.argA,args.argB);shouldSetValues&&set(_formState.errors,name,errors);unsetEmptyArray(_formState.errors,name)}if((_proxyFormState.touchedFields||_proxySubscribeFormState.touchedFields)&&shouldUpdateFieldsAndState&&Array.isArray(get(_formState.touchedFields,name))){const touchedFields=method(get(_formState.touchedFields,name),args.argA,args.argB);shouldSetValues&&set(_formState.touchedFields,name,touchedFields)}(_proxyFormState.dirtyFields||_proxySubscribeFormState.dirtyFields)&&(_formState.dirtyFields=getDirtyFields(_defaultValues,_formValues));_subjects.state.next({name:name,isDirty:_getDirty(name,values),dirtyFields:_formState.dirtyFields,errors:_formState.errors,isValid:_formState.isValid})}else set(_formValues,name,values)},updateErrors=(name,error)=>{set(_formState.errors,name,error);_subjects.state.next({errors:_formState.errors})},_setErrors=errors=>{_formState.errors=errors;_subjects.state.next({errors:_formState.errors,isValid:!1})},updateValidAndValue=(name,shouldSkipSetValueAs,value,ref)=>{const field=get(_fields,name);if(field){const defaultValue=get(_formValues,name,isUndefined(value)?get(_defaultValues,name):value);isUndefined(defaultValue)||ref&&ref.defaultChecked||shouldSkipSetValueAs?set(_formValues,name,shouldSkipSetValueAs?defaultValue:getFieldValue(field._f)):setFieldValue(name,defaultValue);_state.mount&&!_state.action&&_setValid()}},updateTouchAndDirty=(name,fieldValue,isBlurEvent,shouldDirty,shouldRender)=>{let shouldUpdateField=!1,isPreviousDirty=!1;const output={name:name};if(!_options.disabled){if(!isBlurEvent||shouldDirty){if(_proxyFormState.isDirty||_proxySubscribeFormState.isDirty){isPreviousDirty=_formState.isDirty;_formState.isDirty=output.isDirty=_getDirty();shouldUpdateField=isPreviousDirty!==output.isDirty}const isCurrentFieldPristine=deepEqual(get(_defaultValues,name),fieldValue);isPreviousDirty=!!get(_formState.dirtyFields,name);isCurrentFieldPristine?unset(_formState.dirtyFields,name):set(_formState.dirtyFields,name,!0);output.dirtyFields=_formState.dirtyFields;shouldUpdateField=shouldUpdateField||(_proxyFormState.dirtyFields||_proxySubscribeFormState.dirtyFields)&&isPreviousDirty!==!isCurrentFieldPristine}if(isBlurEvent){const isPreviousFieldTouched=get(_formState.touchedFields,name);if(!isPreviousFieldTouched){set(_formState.touchedFields,name,isBlurEvent);output.touchedFields=_formState.touchedFields;shouldUpdateField=shouldUpdateField||(_proxyFormState.touchedFields||_proxySubscribeFormState.touchedFields)&&isPreviousFieldTouched!==isBlurEvent}}shouldUpdateField&&shouldRender&&_subjects.state.next(output)}return shouldUpdateField?output:{}},shouldRenderByError=(name,isValid,error,fieldState)=>{const previousFieldError=get(_formState.errors,name),shouldUpdateValid=(_proxyFormState.isValid||_proxySubscribeFormState.isValid)&&isBoolean(isValid)&&_formState.isValid!==isValid;if(_options.delayError&&error){delayErrorCallback=debounce(()=>updateErrors(name,error));delayErrorCallback(_options.delayError)}else{clearTimeout(timer);delayErrorCallback=null;error?set(_formState.errors,name,error):unset(_formState.errors,name)}if((error?!deepEqual(previousFieldError,error):previousFieldError)||!isEmptyObject(fieldState)||shouldUpdateValid){const updatedFormState={...fieldState,...shouldUpdateValid&&isBoolean(isValid)?{isValid:isValid}:{},errors:_formState.errors,name:name};_formState={..._formState,...updatedFormState};_subjects.state.next(updatedFormState)}},_runSchema=async name=>{_updateIsValidating(name,!0);const result=await _options.resolver(_formValues,_options.context,getResolverOptions(name||_names.mount,_fields,_options.criteriaMode,_options.shouldUseNativeValidation));_updateIsValidating(name);return result},executeSchemaAndUpdateState=async names=>{const{errors:errors}=await _runSchema(names);if(names)for(const name of names){const error=get(errors,name);error?set(_formState.errors,name,error):unset(_formState.errors,name)}else _formState.errors=errors;return errors},executeBuiltInValidation=async(fields,shouldOnlyCheckValid,context={valid:!0})=>{for(const name in fields){const field=fields[name];if(field){const{_f:_f,...fieldValue}=field;if(_f){const isFieldArrayRoot=_names.array.has(_f.name),isPromiseFunction=field._f&&hasPromiseValidation(field._f);isPromiseFunction&&_proxyFormState.validatingFields&&_updateIsValidating([_f.name],!0);const fieldError=await validateField(field,_names.disabled,_formValues,shouldDisplayAllAssociatedErrors,_options.shouldUseNativeValidation&&!shouldOnlyCheckValid,isFieldArrayRoot);isPromiseFunction&&_proxyFormState.validatingFields&&_updateIsValidating([_f.name]);if(fieldError[_f.name]){context.valid=!1;if(shouldOnlyCheckValid)break}!shouldOnlyCheckValid&&(get(fieldError,_f.name)?isFieldArrayRoot?updateFieldArrayRootError(_formState.errors,fieldError,_f.name):set(_formState.errors,_f.name,fieldError[_f.name]):unset(_formState.errors,_f.name))}!isEmptyObject(fieldValue)&&await executeBuiltInValidation(fieldValue,shouldOnlyCheckValid,context)}}return context.valid},_removeUnmounted=()=>{for(const name of _names.unMount){const field=get(_fields,name);field&&(field._f.refs?field._f.refs.every(ref=>!live(ref)):!live(field._f.ref))&&unregister(name)}_names.unMount=new Set},_getDirty=(name,data)=>!_options.disabled&&(name&&data&&set(_formValues,name,data),!deepEqual(getValues(),_defaultValues)),_getWatch=(names,defaultValue,isGlobal)=>generateWatchOutput(names,_names,{..._state.mount?_formValues:isUndefined(defaultValue)?_defaultValues:isString(names)?{[names]:defaultValue}:defaultValue},isGlobal,defaultValue),_getFieldArray=name=>compact(get(_state.mount?_formValues:_defaultValues,name,_options.shouldUnregister?get(_defaultValues,name,[]):[])),setFieldValue=(name,value,options={})=>{const field=get(_fields,name);let fieldValue=value;if(field){const fieldReference=field._f;if(fieldReference){!fieldReference.disabled&&set(_formValues,name,getFieldValueAs(value,fieldReference));fieldValue=isHTMLElement(fieldReference.ref)&&isNullOrUndefined(value)?"":value;if(isMultipleSelect(fieldReference.ref))[...fieldReference.ref.options].forEach(optionRef=>optionRef.selected=fieldValue.includes(optionRef.value));else if(fieldReference.refs)isCheckBoxInput(fieldReference.ref)?fieldReference.refs.forEach(checkboxRef=>{checkboxRef.defaultChecked&&checkboxRef.disabled||(Array.isArray(fieldValue)?checkboxRef.checked=!!fieldValue.find(data=>data===checkboxRef.value):checkboxRef.checked=fieldValue===checkboxRef.value||!!fieldValue)}):fieldReference.refs.forEach(radioRef=>radioRef.checked=radioRef.value===fieldValue);else if(isFileInput(fieldReference.ref))fieldReference.ref.value="";else{fieldReference.ref.value=fieldValue;fieldReference.ref.type||_subjects.state.next({name:name,values:cloneObject(_formValues)})}}}(options.shouldDirty||options.shouldTouch)&&updateTouchAndDirty(name,fieldValue,options.shouldTouch,options.shouldDirty,!0);options.shouldValidate&&trigger(name)},setValues=(name,value,options)=>{for(const fieldKey in value){if(!value.hasOwnProperty(fieldKey))return;const fieldValue=value[fieldKey],fieldName=name+"."+fieldKey,field=get(_fields,fieldName);(_names.array.has(name)||isObject(fieldValue)||field&&!field._f)&&!isDateObject(fieldValue)?setValues(fieldName,fieldValue,options):setFieldValue(fieldName,fieldValue,options)}},setValue=(name,value,options={})=>{const field=get(_fields,name),isFieldArray=_names.array.has(name),cloneValue=cloneObject(value);set(_formValues,name,cloneValue);if(isFieldArray){_subjects.array.next({name:name,values:cloneObject(_formValues)});(_proxyFormState.isDirty||_proxyFormState.dirtyFields||_proxySubscribeFormState.isDirty||_proxySubscribeFormState.dirtyFields)&&options.shouldDirty&&_subjects.state.next({name:name,dirtyFields:getDirtyFields(_defaultValues,_formValues),isDirty:_getDirty(name,cloneValue)})}else!field||field._f||isNullOrUndefined(cloneValue)?setFieldValue(name,cloneValue,options):setValues(name,cloneValue,options);isWatched(name,_names)&&_subjects.state.next({..._formState,name:name});_subjects.state.next({name:_state.mount?name:void 0,values:cloneObject(_formValues)})},onChange=async event=>{_state.mount=!0;const target=event.target;let name=target.name,isFieldValueUpdated=!0;const field=get(_fields,name),_updateIsFieldValueUpdated=fieldValue=>{isFieldValueUpdated=Number.isNaN(fieldValue)||isDateObject(fieldValue)&&isNaN(fieldValue.getTime())||deepEqual(fieldValue,get(_formValues,name,fieldValue))},validationModeBeforeSubmit=getValidationModes(_options.mode),validationModeAfterSubmit=getValidationModes(_options.reValidateMode);if(field){let error,isValid;const fieldValue=target.type?getFieldValue(field._f):getEventValue(event),isBlurEvent=event.type===EVENTS.BLUR||event.type===EVENTS.FOCUS_OUT,shouldSkipValidation=!hasValidation(field._f)&&!_options.resolver&&!get(_formState.errors,name)&&!field._f.deps||skipValidation(isBlurEvent,get(_formState.touchedFields,name),_formState.isSubmitted,validationModeAfterSubmit,validationModeBeforeSubmit),watched=isWatched(name,_names,isBlurEvent);set(_formValues,name,fieldValue);if(isBlurEvent){if(!target||!target.readOnly){field._f.onBlur&&field._f.onBlur(event);delayErrorCallback&&delayErrorCallback(0)}}else field._f.onChange&&field._f.onChange(event);const fieldState=updateTouchAndDirty(name,fieldValue,isBlurEvent),shouldRender=!isEmptyObject(fieldState)||watched;!isBlurEvent&&_subjects.state.next({name:name,type:event.type,values:cloneObject(_formValues)});if(shouldSkipValidation){(_proxyFormState.isValid||_proxySubscribeFormState.isValid)&&("onBlur"===_options.mode?isBlurEvent&&_setValid():isBlurEvent||_setValid());return shouldRender&&_subjects.state.next({name:name,...watched?{}:fieldState})}!isBlurEvent&&watched&&_subjects.state.next({..._formState});if(_options.resolver){const{errors:errors}=await _runSchema([name]);_updateIsFieldValueUpdated(fieldValue);if(isFieldValueUpdated){const previousErrorLookupResult=schemaErrorLookup(_formState.errors,_fields,name),errorLookupResult=schemaErrorLookup(errors,_fields,previousErrorLookupResult.name||name);error=errorLookupResult.error;name=errorLookupResult.name;isValid=isEmptyObject(errors)}}else{_updateIsValidating([name],!0);error=(await validateField(field,_names.disabled,_formValues,shouldDisplayAllAssociatedErrors,_options.shouldUseNativeValidation))[name];_updateIsValidating([name]);_updateIsFieldValueUpdated(fieldValue);isFieldValueUpdated&&(error?isValid=!1:(_proxyFormState.isValid||_proxySubscribeFormState.isValid)&&(isValid=await executeBuiltInValidation(_fields,!0)))}if(isFieldValueUpdated){field._f.deps&&(!Array.isArray(field._f.deps)||field._f.deps.length>0)&&trigger(field._f.deps);shouldRenderByError(name,isValid,error,fieldState)}}},_focusInput=(ref,key)=>{if(get(_formState.errors,key)&&ref.focus){ref.focus();return 1}},trigger=async(name,options={})=>{let isValid,validationResult;const fieldNames=convertToArrayPayload(name);if(_options.resolver){const errors=await executeSchemaAndUpdateState(isUndefined(name)?name:fieldNames);isValid=isEmptyObject(errors);validationResult=name?!fieldNames.some(name2=>get(errors,name2)):isValid}else if(name){validationResult=(await Promise.all(fieldNames.map(async fieldName=>{const field=get(_fields,fieldName);return await executeBuiltInValidation(field&&field._f?{[fieldName]:field}:field)}))).every(Boolean);(validationResult||_formState.isValid)&&_setValid()}else validationResult=isValid=await executeBuiltInValidation(_fields);_subjects.state.next({...!isString(name)||(_proxyFormState.isValid||_proxySubscribeFormState.isValid)&&isValid!==_formState.isValid?{}:{name:name},..._options.resolver||!name?{isValid:isValid}:{},errors:_formState.errors});options.shouldFocus&&!validationResult&&iterateFieldsByAction(_fields,_focusInput,name?fieldNames:_names.mount);return validationResult},getValues=(fieldNames,config)=>{let values={..._state.mount?_formValues:_defaultValues};config&&(values=extractFormValues(config.dirtyFields?_formState.dirtyFields:_formState.touchedFields,values));return isUndefined(fieldNames)?values:isString(fieldNames)?get(values,fieldNames):fieldNames.map(name=>get(values,name))},getFieldState=(name,formState)=>({invalid:!!get((formState||_formState).errors,name),isDirty:!!get((formState||_formState).dirtyFields,name),error:get((formState||_formState).errors,name),isValidating:!!get(_formState.validatingFields,name),isTouched:!!get((formState||_formState).touchedFields,name)}),clearErrors=name=>{name&&convertToArrayPayload(name).forEach(inputName=>unset(_formState.errors,inputName));_subjects.state.next({errors:name?_formState.errors:{}})},setError=(name,error,options)=>{const ref=(get(_fields,name,{_f:{}})._f||{}).ref,currentError=get(_formState.errors,name)||{},{ref:currentRef,message:message,type:type,...restOfErrorTree}=currentError;set(_formState.errors,name,{...restOfErrorTree,...error,ref:ref});_subjects.state.next({name:name,errors:_formState.errors,isValid:!1});options&&options.shouldFocus&&ref&&ref.focus&&ref.focus()},watch=(name,defaultValue)=>isFunction(name)?_subjects.state.subscribe({next:payload=>"values"in payload&&name(_getWatch(void 0,defaultValue),payload)}):_getWatch(name,defaultValue,!0),_subscribe=props2=>_subjects.state.subscribe({next:formState=>{shouldSubscribeByName(props2.name,formState.name,props2.exact)&&shouldRenderFormState(formState,props2.formState||_proxyFormState,_setFormState,props2.reRenderRoot)&&props2.callback({values:{..._formValues},..._formState,...formState,defaultValues:_defaultValues})}}).unsubscribe,subscribe=props2=>{_state.mount=!0;_proxySubscribeFormState={..._proxySubscribeFormState,...props2.formState};return _subscribe({...props2,formState:_proxySubscribeFormState})},unregister=(name,options={})=>{for(const fieldName of name?convertToArrayPayload(name):_names.mount){_names.mount.delete(fieldName);_names.array.delete(fieldName);if(!options.keepValue){unset(_fields,fieldName);unset(_formValues,fieldName)}!options.keepError&&unset(_formState.errors,fieldName);!options.keepDirty&&unset(_formState.dirtyFields,fieldName);!options.keepTouched&&unset(_formState.touchedFields,fieldName);!options.keepIsValidating&&unset(_formState.validatingFields,fieldName);!_options.shouldUnregister&&!options.keepDefaultValue&&unset(_defaultValues,fieldName)}_subjects.state.next({values:cloneObject(_formValues)});_subjects.state.next({..._formState,...options.keepDirty?{isDirty:_getDirty()}:{}});!options.keepIsValid&&_setValid()},_setDisabledField=({disabled:disabled,name:name})=>{(isBoolean(disabled)&&_state.mount||disabled||_names.disabled.has(name))&&(disabled?_names.disabled.add(name):_names.disabled.delete(name))},register=(name,options={})=>{let field=get(_fields,name);const disabledIsDefined=isBoolean(options.disabled)||isBoolean(_options.disabled);set(_fields,name,{...field||{},_f:{...field&&field._f?field._f:{ref:{name:name}},name:name,mount:!0,...options}});_names.mount.add(name);field?_setDisabledField({disabled:isBoolean(options.disabled)?options.disabled:_options.disabled,name:name}):updateValidAndValue(name,!0,options.value);return{...disabledIsDefined?{disabled:options.disabled||_options.disabled}:{},..._options.progressive?{required:!!options.required,min:getRuleValue(options.min),max:getRuleValue(options.max),minLength:getRuleValue(options.minLength),maxLength:getRuleValue(options.maxLength),pattern:getRuleValue(options.pattern)}:{},name:name,onChange:onChange,onBlur:onChange,ref:ref=>{if(ref){register(name,options);field=get(_fields,name);const fieldRef=isUndefined(ref.value)&&ref.querySelectorAll&&ref.querySelectorAll("input,select,textarea")[0]||ref,radioOrCheckbox=isRadioOrCheckbox(fieldRef),refs=field._f.refs||[];if(radioOrCheckbox?refs.find(option=>option===fieldRef):fieldRef===field._f.ref)return;set(_fields,name,{_f:{...field._f,...radioOrCheckbox?{refs:[...refs.filter(live),fieldRef,...Array.isArray(get(_defaultValues,name))?[{}]:[]],ref:{type:fieldRef.type,name:name}}:{ref:fieldRef}}});updateValidAndValue(name,!1,void 0,fieldRef)}else{field=get(_fields,name,{});field._f&&(field._f.mount=!1);(_options.shouldUnregister||options.shouldUnregister)&&(!isNameInFieldArray(_names.array,name)||!_state.action)&&_names.unMount.add(name)}}}},_focusError=()=>_options.shouldFocusError&&iterateFieldsByAction(_fields,_focusInput,_names.mount),_disableForm=disabled=>{if(isBoolean(disabled)){_subjects.state.next({disabled:disabled});iterateFieldsByAction(_fields,(ref,name)=>{const currentField=get(_fields,name);if(currentField){ref.disabled=currentField._f.disabled||disabled;Array.isArray(currentField._f.refs)&&currentField._f.refs.forEach(inputRef=>{inputRef.disabled=currentField._f.disabled||disabled})}},0,!1)}},handleSubmit=(onValid,onInvalid)=>async e=>{let onValidError;if(e){e.preventDefault&&e.preventDefault();e.persist&&e.persist()}let fieldValues=cloneObject(_formValues);_subjects.state.next({isSubmitting:!0});if(_options.resolver){const{errors:errors,values:values}=await _runSchema();_formState.errors=errors;fieldValues=cloneObject(values)}else await executeBuiltInValidation(_fields);if(_names.disabled.size)for(const name of _names.disabled)unset(fieldValues,name);unset(_formState.errors,"root");if(isEmptyObject(_formState.errors)){_subjects.state.next({errors:{}});try{await onValid(fieldValues,e)}catch(error){onValidError=error}}else{onInvalid&&await onInvalid({..._formState.errors},e);_focusError();setTimeout(_focusError)}_subjects.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(_formState.errors)&&!onValidError,submitCount:_formState.submitCount+1,errors:_formState.errors});if(onValidError)throw onValidError},resetField=(name,options={})=>{if(get(_fields,name)){if(isUndefined(options.defaultValue))setValue(name,cloneObject(get(_defaultValues,name)));else{setValue(name,options.defaultValue);set(_defaultValues,name,cloneObject(options.defaultValue))}options.keepTouched||unset(_formState.touchedFields,name);if(!options.keepDirty){unset(_formState.dirtyFields,name);_formState.isDirty=options.defaultValue?_getDirty(name,cloneObject(get(_defaultValues,name))):_getDirty()}if(!options.keepError){unset(_formState.errors,name);_proxyFormState.isValid&&_setValid()}_subjects.state.next({..._formState})}},_reset=(formValues,keepStateOptions={})=>{const updatedValues=formValues?cloneObject(formValues):_defaultValues,cloneUpdatedValues=cloneObject(updatedValues),isEmptyResetValues=isEmptyObject(formValues),values=isEmptyResetValues?_defaultValues:cloneUpdatedValues;keepStateOptions.keepDefaultValues||(_defaultValues=updatedValues);if(!keepStateOptions.keepValues){if(keepStateOptions.keepDirtyValues){const fieldsToCheck=new Set([..._names.mount,...Object.keys(getDirtyFields(_defaultValues,_formValues))]);for(const fieldName of Array.from(fieldsToCheck))get(_formState.dirtyFields,fieldName)?set(values,fieldName,get(_formValues,fieldName)):setValue(fieldName,get(values,fieldName))}else{if(isWeb&&isUndefined(formValues))for(const name of _names.mount){const field=get(_fields,name);if(field&&field._f){const fieldReference=Array.isArray(field._f.refs)?field._f.refs[0]:field._f.ref;if(isHTMLElement(fieldReference)){const form=fieldReference.closest("form");if(form){form.reset();break}}}}if(keepStateOptions.keepFieldsRef)for(const fieldName of _names.mount)setValue(fieldName,get(values,fieldName));else _fields={}}_formValues=_options.shouldUnregister?keepStateOptions.keepDefaultValues?cloneObject(_defaultValues):{}:cloneObject(values);_subjects.array.next({values:{...values}});_subjects.state.next({values:{...values}})}_names={mount:keepStateOptions.keepDirtyValues?_names.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""};_state.mount=!_proxyFormState.isValid||!!keepStateOptions.keepIsValid||!!keepStateOptions.keepDirtyValues||!_options.shouldUnregister&&!isEmptyObject(values);_state.watch=!!_options.shouldUnregister;_subjects.state.next({submitCount:keepStateOptions.keepSubmitCount?_formState.submitCount:0,isDirty:!isEmptyResetValues&&(keepStateOptions.keepDirty?_formState.isDirty:!(!keepStateOptions.keepDefaultValues||deepEqual(formValues,_defaultValues))),isSubmitted:!!keepStateOptions.keepIsSubmitted&&_formState.isSubmitted,dirtyFields:isEmptyResetValues?{}:keepStateOptions.keepDirtyValues?keepStateOptions.keepDefaultValues&&_formValues?getDirtyFields(_defaultValues,_formValues):_formState.dirtyFields:keepStateOptions.keepDefaultValues&&formValues?getDirtyFields(_defaultValues,formValues):keepStateOptions.keepDirty?_formState.dirtyFields:{},touchedFields:keepStateOptions.keepTouched?_formState.touchedFields:{},errors:keepStateOptions.keepErrors?_formState.errors:{},isSubmitSuccessful:!!keepStateOptions.keepIsSubmitSuccessful&&_formState.isSubmitSuccessful,isSubmitting:!1,defaultValues:_defaultValues})},reset=(formValues,keepStateOptions)=>_reset(isFunction(formValues)?formValues(_formValues):formValues,keepStateOptions),setFocus=(name,options={})=>{const field=get(_fields,name),fieldReference=field&&field._f;if(fieldReference){const fieldRef=fieldReference.refs?fieldReference.refs[0]:fieldReference.ref;if(fieldRef.focus){fieldRef.focus();options.shouldSelect&&isFunction(fieldRef.select)&&fieldRef.select()}}},_setFormState=updatedFormState=>{_formState={..._formState,...updatedFormState}},_resetDefaultValues=()=>isFunction(_options.defaultValues)&&_options.defaultValues().then(values=>{reset(values,_options.resetOptions);_subjects.state.next({isLoading:!1})}),methods={control:{register:register,unregister:unregister,getFieldState:getFieldState,handleSubmit:handleSubmit,setError:setError,_subscribe:_subscribe,_runSchema:_runSchema,_focusError:_focusError,_getWatch:_getWatch,_getDirty:_getDirty,_setValid:_setValid,_setFieldArray:_setFieldArray,_setDisabledField:_setDisabledField,_setErrors:_setErrors,_getFieldArray:_getFieldArray,_reset:_reset,_resetDefaultValues:_resetDefaultValues,_removeUnmounted:_removeUnmounted,_disableForm:_disableForm,_subjects:_subjects,_proxyFormState:_proxyFormState,get _fields(){return _fields},get _formValues(){return _formValues},get _state(){return _state},set _state(value){_state=value},get _defaultValues(){return _defaultValues},get _names(){return _names},set _names(value){_names=value},get _formState(){return _formState},get _options(){return _options},set _options(value){_options={..._options,...value}}},subscribe:subscribe,trigger:trigger,register:register,handleSubmit:handleSubmit,watch:watch,setValue:setValue,getValues:getValues,reset:reset,resetField:resetField,clearErrors:clearErrors,unregister:unregister,setError:setError,setFocus:setFocus,getFieldState:getFieldState};return{...methods,formControl:methods}}function useForm(props={}){const _formControl=React.useRef(void 0),_values=React.useRef(void 0),[formState,updateFormState]=React.useState({isDirty:!1,isValidating:!1,isLoading:isFunction(props.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:props.errors||{},disabled:props.disabled||!1,isReady:!1,defaultValues:isFunction(props.defaultValues)?void 0:props.defaultValues});if(!_formControl.current)if(props.formControl){_formControl.current={...props.formControl,formState:formState};props.defaultValues&&!isFunction(props.defaultValues)&&props.formControl.reset(props.defaultValues,props.resetOptions)}else{const{formControl:formControl,...rest}=createFormControl(props);_formControl.current={...rest,formState:formState}}const control=_formControl.current.control;control._options=props;useIsomorphicLayoutEffect(()=>{const sub=control._subscribe({formState:control._proxyFormState,callback:()=>updateFormState({...control._formState}),reRenderRoot:!0});updateFormState(data=>({...data,isReady:!0}));control._formState.isReady=!0;return sub},[control]);React.useEffect(()=>control._disableForm(props.disabled),[control,props.disabled]);React.useEffect(()=>{props.mode&&(control._options.mode=props.mode);props.reValidateMode&&(control._options.reValidateMode=props.reValidateMode)},[control,props.mode,props.reValidateMode]);React.useEffect(()=>{if(props.errors){control._setErrors(props.errors);control._focusError()}},[control,props.errors]);React.useEffect(()=>{props.shouldUnregister&&control._subjects.state.next({values:control._getWatch()})},[control,props.shouldUnregister]);React.useEffect(()=>{if(control._proxyFormState.isDirty){const isDirty=control._getDirty();isDirty!==formState.isDirty&&control._subjects.state.next({isDirty:isDirty})}},[control,formState.isDirty]);React.useEffect(()=>{var _a;if(props.values&&!deepEqual(props.values,_values.current)){control._reset(props.values,{keepFieldsRef:!0,...control._options.resetOptions});(null===(_a=control._options.resetOptions)||void 0===_a?void 0:_a.keepIsValid)||control._setValid();_values.current=props.values;updateFormState(state=>({...state}))}else control._resetDefaultValues()},[control,props.values]);React.useEffect(()=>{if(!control._state.mount){control._setValid();control._state.mount=!0}if(control._state.watch){control._state.watch=!1;control._subjects.state.next({...control._formState})}control._removeUnmounted()});_formControl.current.formState=getProxyFormState(formState,control);return _formControl.current}export{Controller as C,FormProvider as F,React as R,reactExports as a,React$1 as b,commonjsGlobal as c,getAugmentedNamespace as d,useFormContext as e,useWatch as f,getDefaultExportFromCjs as g,requireReact as r,useForm as u};
//# sourceMappingURL=react-hook-form-Bavd7xdc.js.map
